import{o as i,d as a,a as t,t as m,p as J,r as w,T as j,q as K,s as C,c as U,w as A,N as b,e as p,k as c,x,f as g,v as T,b as V,F as Q,g as W}from"./app-uevufprU.js";import{A as X}from"./AppLayout-06ovi2Jk.js";import{P as Z}from"./Pagination-LBr2dpyI.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-C_GraEJX.js";const $={name:"SmsGenerationProgress",emits:["dismiss"],props:{progress:Number},setup(l,e){function n(){e.emit("dismiss",!0)}return{dismiss:n}}},ee={id:"toast-simple",class:"fixed top-5 right-5 flex items-center w-full max-w-xs p-4 space-x-4 rtl:space-x-reverse text-gray-500 bg-white divide-x rtl:divide-x-reverse divide-gray-100 rounded-lg shadow dark:text-gray-400 dark:divide-gray-700 space-x dark:bg-gray-800 z-20",role:"alert"},te={class:"relative w-full p-2"},se={key:0,class:"text-xs"},oe={key:1,class:"text-xs"},re={class:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-lightBlue-200"};function ne(l,e,n,s,y,v){return i(),a("div",ee,[e[3]||(e[3]=t("i",{class:"fa fas fa-3x fa-location-arrow text-lightBlue-400","aria-hidden":"true"},null,-1)),t("div",te,[e[2]||(e[2]=t("h4",{class:"text-xs font-extrabold"},"Bill Reminder",-1)),n.progress!=100?(i(),a("label",se,"Sending SMS in "+m(n.progress)+"% ",1)):(i(),a("label",oe,"Sending SMS Completed ! ")),t("div",re,[t("div",{style:J(`width: ${n.progress}%`),class:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-lightBlue-500"},null,4)]),t("button",{type:"button",class:"absolute top-0 right-3 ms-auto -mx-1.5 -my-1.5 bg-white justify-center items-center flex-shrink-0 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-dismiss-target":"#toast-message-cta","aria-label":"Close",onClick:e[0]||(e[0]=h=>s.dismiss())},e[1]||(e[1]=[t("span",{class:"sr-only"},"Close",-1),t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)]))])])}const ie=P($,[["render",ne]]),le={name:"Bill Reminder",components:{AppLayout:X,BillReminderProgress:ie,Pagination:Z},props:{customers:Array,smsgateway:Object,daysBeforeExpiry:Number,today:String,endDate:String},setup(l){const e=w([]),n=w(!1),s=w(!1),y=w(l.daysBeforeExpiry<1?l.daysBeforeExpiry:1),v=w(0),h=w(!1),u=j({id:null,ftth_id:null,customer_id:null,name:null,phone_1:null,service_off_date:null,reset_sms:!1}),f=w({id:"",name:"",phone:"",expiry_date:"",no_phone:!1}),D=()=>{b.get(route("bill-reminders.index"),{filter_id:f.value.id,filter_name:f.value.name,filter_phone:f.value.phone,filter_expiry:f.value.expiry_date,filter_no_phone:f.value.no_phone,days:y.value},{preserveState:!0,replace:!0})},E=()=>{f.value={id:"",name:"",phone:"",expiry_date:"",no_phone:!1},b.get(route("bill-reminders.index"),{days:y.value},{preserveState:!0,replace:!0})},S=r=>{u.id=r.id,u.ftth_id=r.ftth_id,u.customer_id=r.customer_id,u.name=r.name,u.phone_1=r.phone_1,u.service_off_date=r.service_off_date,u.reset_sms=!1,s.value=!0},B=()=>{u.put(route("bill-reminders.update",u.id),{onSuccess:r=>{Toast.fire({icon:"success",title:r.props.flash.message}),s.value=!1,u.reset()}})},o=()=>{s.value=!1,u.reset()},k=r=>{Toast.fire({title:"Delete Customer?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",position:"center",timer:1e4,toast:!1}).then(d=>{d.isConfirmed&&b.delete(route("bill-reminders.destroy",r.id),{onSuccess:N=>{Toast.fire({icon:"success",title:N.props.flash.message})}})})},_=j({customer_ids:[]}),I=()=>{n.value?e.value=l.customers.data.map(r=>r.id):e.value=[]},L=()=>{Toast.fire({title:"Generate List?",text:`Generate reminder list for customers expiring in ${y.value} days? This action will empty current list.`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, generate it!",position:"center",timer:1e4,toast:!1}).then(r=>{r.isConfirmed&&b.post(route("bill-reminders.create-reminder"),{days:y.value},{onSuccess:d=>{Toast.fire({icon:"success",title:d.props.flash.message})}})})},F=()=>{Toast.fire({title:"Empty List?",text:"This will remove all customers from the reminder list. Continue?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, empty it!",position:"center",timer:1e4,toast:!1}).then(r=>{r.isConfirmed&&b.post(route("bill-reminders.empty-reminder"),{},{onSuccess:d=>{Toast.fire({icon:"success",title:d.props.flash.message})}})})},M=()=>{Toast.fire({title:"Are you sure you want to delete them?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete them!",cancelButtonText:"No, cancel!",position:"center",timer:1e4,toast:!1}).then(r=>{r.isConfirmed&&(_.customer_ids=e.value,_.post(route("bill-reminders.delete-selected"),{onSuccess:d=>{Toast.fire({icon:"success",title:d.props.flash.message}),n.value=!1,e.value=[]}}))})},Y=()=>{Toast.fire({title:"Send Reminders?",text:"Send SMS reminders to selected customers?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, send reminders!",position:"center",timer:1e4,toast:!1}).then(r=>{r.isConfirmed&&(_.customer_ids=e.value,_.post(route("bill-reminders.send"),{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:d=>{Toast.fire({icon:"success",title:d.props.flash.message,timer:200})}}))})},q=()=>{Toast.fire({title:"Send to All?",text:"Send SMS reminders to all customers?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, send to all!",position:"center",timer:1e4,toast:!1}).then(r=>{r.isConfirmed&&b.post(route("bill-reminders.send-all"),{},{replace:!0,preserveState:!0,preserveScroll:!0,onSuccess:d=>{Toast.fire({icon:"success",title:d.props.flash.message})}})})},G=()=>{b.visit(route("bill-reminders.upload-view"))},z=()=>{confirm("Are you sure you want to remove all customers without phone numbers from the reminder list?")&&b.post(route("bill-reminders.clear-no-phone"),{},{onSuccess:r=>{Toast.fire({icon:"success",title:r.props.flash.message})}})},O=()=>{axios.post(route("bill-reminders.download-excel"),{filter_id:f.value.id,filter_name:f.value.name,filter_phone:f.value.phone,filter_expiry:f.value.expiry_date,filter_no_phone:f.value.no_phone,days:y.value},{responseType:"blob"}).then(r=>{var d=document.createElement("a");document.body.appendChild(d),d.style="display: none";var N=new Blob([r.data],{type:r.headers["content-type"]});const R=document.createElement("a");R.href=window.URL.createObjectURL(N),R.download=`billreminder_${new Date().getTime()}.xlsx`,R.click()})},H=r=>{r&&(h.value=!r)};return K(()=>{window.Echo.channel("reminderprogressbar").listen(".remindersms",r=>{v.value=r.progress,typeof l.customers=="object"&&l.customers.data.map(function(d){if(d.id==r.id)return d.sms_status="sent"}),v.value>0&&(h.value=!0)})}),{days:y,editing:s,closeData:o,updateData:B,edit:S,deleteIt:k,deleteSelected:M,selectedCustomers:e,selectAll:n,form:u,reminderForm:_,toggleSelectAll:I,createList:L,emptyList:F,sendAllReminder:q,sendReminders:Y,downloadExcel:O,openUploadView:G,filters:f,applyFilters:D,resetFilters:E,clearNoPhoneCustomers:z,showSmsProgress:h,smsprogress:v,dismiss:H}}},de={class:"py-12"},ae={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},me={class:"gap-2 bg-white shadow sm:rounded-lg space-x-2 py-2 px-2 md:px-2 grid grid-cols-5 items-end"},ue={class:""},fe={class:"inline-flex items-baseline"},ce={class:"mt-2 bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},pe={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},ge={class:"flex items-center mt-6"},xe={class:"mt-4 flex justify-end"},ye={class:"mt-2 bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},be={key:0,class:"bg-green-50 border-l-4 border-green-400 p-4 mb-6"},we={class:"flex"},he={class:"flex-shrink-0"},ve={class:"ml-3"},ke={class:"text-sm text-green-700"},_e={key:1},Ce={class:"overflow-x-auto"},Se={class:"min-w-full divide-y divide-gray-200"},Be={class:"bg-gray-50"},Te={scope:"col",class:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},De={class:"bg-white divide-y divide-gray-200 text-sm"},Ee={class:"px-2 py-2 whitespace-nowrap"},Ne=["value"],Re={class:"px-2 py-2 whitespace-nowrap"},Ve={class:"px-2 py-2 whitespace-nowrap"},je={class:"px-2 py-2 whitespace-nowrap"},Ue={class:"px-2 py-2 whitespace-nowrap"},Ae={class:"px-2 py-2 whitespace-nowrap"},Pe={class:"px-2 py-2 whitespace-nowrap"},Ie={class:"px-2 py-2 whitespace-nowrap"},Le={class:"px-2 py-2 whitespace-nowrap"},Fe=["onClick"],Me=["onClick"],Ye={class:"mt-6 flex gap-2"},qe=["disabled"],Ge=["disabled"],ze={class:"mt-2p-4"},Oe={key:0,class:"w-full block mt-4"},He={class:"text-xs text-gray-600"},Je={key:1},Ke={key:2,class:"bg-yellow-50 border-l-4 border-yellow-400 p-4"},Qe={class:"flex"},We={class:"flex-shrink-0"},Xe={class:"ml-3"},Ze={class:"text-sm text-yellow-700"},$e={key:0,ref:"editing",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},et={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},tt={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},st={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 shadow sm:rounded-lg"},ot={class:"md:grid"},rt={class:"mb-4 md:col-span-1"},nt={key:0,class:"text-red-500"},it={key:1,class:"text-red-500"},lt={key:2,class:"text-red-500"},dt={key:3,class:"text-red-500"},at={class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},mt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ut={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},ft={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"};function ct(l,e,n,s,y,v){const h=C("BillReminderProgress"),u=C("CheckCircleIcon"),f=C("pagination"),D=C("ExclamationIcon"),E=C("app-layout");return i(),U(E,null,{header:A(()=>e[26]||(e[26]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"Bill Reminder",-1)])),default:A(()=>{var S,B;return[t("div",de,[s.showSmsProgress?(i(),U(h,{key:0,progress:s.smsprogress,onDismiss:s.dismiss},null,8,["progress","onDismiss"])):p("",!0),t("div",ae,[t("div",me,[t("div",ue,[e[28]||(e[28]=t("label",{for:"days",class:"block text-sm font-medium text-gray-700"},"Days Before Service Expiry:",-1)),t("div",fe,[c(t("input",{type:"number",id:"days","onUpdate:modelValue":e[0]||(e[0]=o=>s.days=o),class:"mt-1 py-2 block w-20 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",max:"30"},null,512),[[x,s.days]]),t("a",{onClick:e[1]||(e[1]=(...o)=>s.createList&&s.createList(...o)),class:"ml-2 inline-flex cursor-pointer justify-center py-2.5 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 items-center"},e[27]||(e[27]=[g("Generate "),t("i",{class:"ml-1 fa fa-list text-white"},null,-1)]))])]),t("a",{onClick:e[2]||(e[2]=(...o)=>s.emptyList&&s.emptyList(...o)),class:"inline-flex cursor-pointer justify-center py-2.5 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 items-center"},e[29]||(e[29]=[g("Empty List"),t("i",{class:"ml-1 fa fa-trash text-white"},null,-1)])),t("a",{onClick:e[3]||(e[3]=(...o)=>s.downloadExcel&&s.downloadExcel(...o)),class:"inline-flex cursor-pointer justify-center py-2.5 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 items-center"},e[30]||(e[30]=[g("Export "),t("i",{class:"ml-1 fa fa-download text-white"},null,-1)])),t("a",{onClick:e[4]||(e[4]=(...o)=>s.openUploadView&&s.openUploadView(...o)),class:"inline-flex cursor-pointer justify-center py-2.5 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 items-center"},e[31]||(e[31]=[g("Import "),t("i",{class:"ml-1 fa fa-upload text-white"},null,-1)])),n.smsgateway&&((S=n.smsgateway)==null?void 0:S.status)=="1"?(i(),a("a",{key:0,onClick:e[5]||(e[5]=(...o)=>s.sendAllReminder&&s.sendAllReminder(...o)),class:"inline-flex cursor-pointer justify-center py-2.5 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 items-center"},e[32]||(e[32]=[g("Send Reminder To All"),t("i",{class:"ml-1 fa fa-sms fa-xl text-white"},null,-1)]))):p("",!0)]),t("div",ce,[e[38]||(e[38]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Filter Customers",-1)),t("div",pe,[t("div",null,[e[33]||(e[33]=t("label",{for:"filter_id",class:"block text-sm font-medium text-gray-700"},"Customer ID",-1)),c(t("input",{type:"text",id:"filter_id","onUpdate:modelValue":e[6]||(e[6]=o=>s.filters.id=o),class:"mt-1 py-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Search by ID"},null,512),[[x,s.filters.id]])]),t("div",null,[e[34]||(e[34]=t("label",{for:"filter_name",class:"block text-sm font-medium text-gray-700"},"Customer Name",-1)),c(t("input",{type:"text",id:"filter_name","onUpdate:modelValue":e[7]||(e[7]=o=>s.filters.name=o),class:"mt-1 py-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Search by name"},null,512),[[x,s.filters.name]])]),t("div",null,[e[35]||(e[35]=t("label",{for:"filter_phone",class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),c(t("input",{type:"text",id:"filter_phone","onUpdate:modelValue":e[8]||(e[8]=o=>s.filters.phone=o),class:"mt-1 py-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Search by phone"},null,512),[[x,s.filters.phone]])]),t("div",null,[e[36]||(e[36]=t("label",{for:"filter_expiry",class:"block text-sm font-medium text-gray-700"},"Expiry Date",-1)),c(t("input",{type:"date",id:"filter_expiry","onUpdate:modelValue":e[9]||(e[9]=o=>s.filters.expiry_date=o),class:"mt-1 py-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,s.filters.expiry_date]])]),t("div",ge,[c(t("input",{type:"checkbox",id:"filter_no_phone","onUpdate:modelValue":e[10]||(e[10]=o=>s.filters.no_phone=o),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[T,s.filters.no_phone]]),e[37]||(e[37]=t("label",{for:"filter_no_phone",class:"ml-2 block text-sm text-gray-700"},"Show only customers without phone",-1))])]),t("div",xe,[t("button",{onClick:e[11]||(e[11]=(...o)=>s.clearNoPhoneCustomers&&s.clearNoPhoneCustomers(...o)),class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Clear No Phone Customer "),t("button",{onClick:e[12]||(e[12]=(...o)=>s.applyFilters&&s.applyFilters(...o)),class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Apply Filters "),t("button",{onClick:e[13]||(e[13]=(...o)=>s.resetFilters&&s.resetFilters(...o)),class:"ml-3 inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Reset ")])]),t("div",ye,[l.$page.props.flash.success?(i(),a("div",be,[t("div",we,[t("div",he,[V(u,{class:"h-5 w-5 text-green-400"})]),t("div",ve,[t("p",ke,m(l.$page.props.flash.success),1)])])])):p("",!0),n.customers.data.length>0?(i(),a("div",_e,[t("div",Ce,[t("table",Se,[t("thead",Be,[t("tr",null,[t("th",Te,[c(t("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=o=>s.selectAll=o),onChange:e[15]||(e[15]=(...o)=>s.toggleSelectAll&&s.toggleSelectAll(...o)),class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,544),[[T,s.selectAll]])]),e[39]||(e[39]=t("th",{scope:"col",class:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," No.",-1)),e[40]||(e[40]=t("th",{scope:"col",class:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ID",-1)),e[41]||(e[41]=t("th",{scope:"col",class:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name",-1)),e[42]||(e[42]=t("th",{scope:"col",class:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Phone",-1)),e[43]||(e[43]=t("th",{scope:"col",class:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Expiry",-1)),e[44]||(e[44]=t("th",{scope:"col",class:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Days Remaining",-1)),e[45]||(e[45]=t("th",{scope:"col",class:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," SMS Status",-1)),e[46]||(e[46]=t("th",{scope:"col",class:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Action",-1))])]),t("tbody",De,[(i(!0),a(Q,null,W(n.customers.data,o=>(i(),a("tr",{key:o.id},[t("td",Ee,[c(t("input",{type:"checkbox","onUpdate:modelValue":e[16]||(e[16]=k=>s.selectedCustomers=k),value:o.id,class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,8,Ne),[[T,s.selectedCustomers]])]),t("td",Re,m(o.id),1),t("td",Ve,m(o.ftth_id),1),t("td",je,m(o.name),1),t("td",Ue,m(o.phone_1),1),t("td",Ae,m(o.service_off_date),1),t("td",Pe,m(o.days_remaining),1),t("td",Ie,m(o.sms_status),1),t("td",Le,[t("a",{href:"#",onClick:k=>s.edit(o),class:"text-yellow-600 hover:text-yellow-900"},e[47]||(e[47]=[t("i",{class:"fas fa-pen"},null,-1)]),8,Fe),e[49]||(e[49]=g(" | ")),t("a",{href:"#",onClick:k=>s.deleteIt(o),class:"text-red-600 hover:text-red-900"},e[48]||(e[48]=[t("i",{class:"fas fa-trash"},null,-1)]),8,Me)])]))),128))])])]),t("div",Ye,[t("a",{type:"button",onClick:e[17]||(e[17]=(...o)=>s.deleteSelected&&s.deleteSelected(...o)),class:"inline-flex cursor-pointer justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 items-center",disabled:s.selectedCustomers.length===0},e[50]||(e[50]=[g(" Delete Selected Customers "),t("i",{class:"ml-1 fa fa-trash"},null,-1)]),8,qe),n.smsgateway&&((B=n.smsgateway)==null?void 0:B.status)=="1"?(i(),a("a",{key:0,type:"button",onClick:e[18]||(e[18]=(...o)=>s.sendReminders&&s.sendReminders(...o)),class:"inline-flex cursor-pointer justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 items-center",disabled:s.selectedCustomers.length===0},e[51]||(e[51]=[g(" Send Reminders to Selected Customers "),t("i",{class:"ml-2 fa fa-sms fa-xl"},null,-1)]),8,Ge)):p("",!0)])])):p("",!0)]),t("div",ze,[n.customers.total?(i(),a("span",Oe,[t("label",He,m(n.customers.data.length)+" Customers in Current Page. Total Number of Customers : "+m(n.customers.total),1)])):p("",!0),n.customers.links?(i(),a("span",Je,[V(f,{class:"mt-4",links:n.customers.links},null,8,["links"])])):(i(),a("div",Ke,[t("div",Qe,[t("div",We,[V(D,{class:"h-5 w-5 text-yellow-400"})]),t("div",Xe,[t("p",Ze," No customers found with service expiry within the next "+m(n.daysBeforeExpiry)+" days. ",1)])])]))]),s.editing?(i(),a("div",$e,[t("div",et,[e[59]||(e[59]=t("div",{class:"fixed inset-0 transition-opacity"},[t("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e[60]||(e[60]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),e[61]||(e[61]=g("​ ")),t("div",tt,[t("div",st,[e[57]||(e[57]=t("h6",{class:"md:min-w-full text-indigo-700 text-sm uppercase font-bold block pt-1 no-underline"},"Edit Data ",-1)),e[58]||(e[58]=t("div",{class:"hidden sm:block","aria-hidden":"true"},[t("div",{class:"py-5"},[t("div",{class:"border-t border-gray-200"})])],-1)),t("div",ot,[t("div",rt,[e[53]||(e[53]=t("label",{for:"ftth_id",class:"block text-gray-700 text-sm font-bold mb-2"},"Customer ID :",-1)),c(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"ftth_id",placeholder:"Enter Customer ID","onUpdate:modelValue":e[19]||(e[19]=o=>s.form.ftth_id=o)},null,512),[[x,s.form.ftth_id]]),l.$page.props.errors.name?(i(),a("div",nt,m(l.$page.props.errors.name),1)):p("",!0),e[54]||(e[54]=t("label",{for:"name",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Customer Name :",-1)),c(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"name",placeholder:"Enter Customer Name","onUpdate:modelValue":e[20]||(e[20]=o=>s.form.name=o)},null,512),[[x,s.form.name]]),l.$page.props.errors.name?(i(),a("div",it,m(l.$page.props.errors.name),1)):p("",!0),e[55]||(e[55]=t("label",{for:"phone",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Contact No. :",-1)),c(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"phone",placeholder:"Enter Phone No.","onUpdate:modelValue":e[21]||(e[21]=o=>s.form.phone_1=o)},null,512),[[x,s.form.phone_1]]),l.$page.props.errors.phone_1?(i(),a("div",lt,m(l.$page.props.errors.phone_1),1)):p("",!0),e[56]||(e[56]=t("label",{for:"service_off_date",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Expiry Date. :",-1)),c(t("input",{type:"date",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"service_off_date","onUpdate:modelValue":e[22]||(e[22]=o=>s.form.service_off_date=o)},null,512),[[x,s.form.service_off_date]]),l.$page.props.errors.service_off_date?(i(),a("div",dt,m(l.$page.props.errors.service_off_date),1)):p("",!0),t("label",at,[c(t("input",{class:"text-green-500 w-6 h-6 mr-2 focus:ring-green-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[23]||(e[23]=o=>s.form.reset_sms=o)},null,512),[[T,s.form.reset_sms]]),e[52]||(e[52]=g(" Reset SMS "))])])])]),t("div",mt,[t("span",ut,[t("button",{onClick:e[24]||(e[24]=(...o)=>s.updateData&&s.updateData(...o)),type:"button",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},"Update")]),t("span",ft,[t("button",{onClick:e[25]||(e[25]=(...o)=>s.closeData&&s.closeData(...o)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Close")])])])])],512)):p("",!0)])])]}),_:1})}const wt=P(le,[["render",ct]]);export{wt as default};
