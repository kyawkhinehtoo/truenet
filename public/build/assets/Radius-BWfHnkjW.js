import{A as V}from"./AppLayout-DcbCuLjy.js";import{P as R}from"./Pagination--TBkXYON.js";import{r as k,T as E,s as p,c as U,w as h,o as l,a as e,k as n,x as C,L as d,d as r,b as f,e as x,n as g,f as y,F as D,g as M,t as i}from"./app-BIx_XIkX.js";import{V as j}from"./main-DHw6S639.js";import{M as N}from"./vue3-multiselect.umd.min-CLVhFqDA.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-UTLE7GZo.js";const O={name:"Radius",components:{AppLayout:V,VueDatePicker:j,Pagination:R,Multiselect:N},props:{customers:Object,errors:Object,vlans:Object,radius:Object},setup(b){const t=k(!1),a=k({date:"YYYY-MM-DD",month:"MMM"}),o=E({general:null,vlan:null,radius_status:"any",expiration:""}),w=()=>{o.reset()};function v(){o.post("/showRadius",{onSuccess:u=>{},onError:u=>{console.log(u)},onStart:()=>{}},{preserveState:!0})}return{submit:v,form:o,doExcel:()=>{t.value=!0,axios.post("/RadiusExport",o).then(u=>{console.log(u),t.value=!1;var m=document.createElement("a");document.body.appendChild(m),m.style="display: none";let c=new Blob([u.data],{type:"text/csv"}),s=window.URL.createObjectURL(c);m.href=s,m.download="radius_users.csv",m.click(),window.URL.revokeObjectURL(s)})},formatter:a,resetFrom:w,loading:t}}},P={class:"py-2"},S={class:"max-w-full mx-auto sm:px-6 lg:px-8 mt-4"},T={class:"bg-white shadow sm:rounded-t-lg items-end py-2 px-2 md:px-2"},F={class:"grid grid-cols-1 md:grid-cols-4 gap-6 w-full"},A={class:"py-2 col-span-1 sm:col-span-1"},B={class:"mt-1 flex rounded-md shadow-sm"},z={class:"py-2 col-span-3 sm:col-span-3"},Y={class:"mt-1 text-sm border border-solid border-gray-300 rounded-md p-3 flex justify-between"},I={class:"flex items-center"},G={class:"flex items-center"},q={class:"flex items-center"},H={class:"flex items-center"},J={class:"flex items-center"},K={class:"flex items-center"},Q={class:"flex items-center"},W={class:"flex items-center"},X={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-6 w-full"},Z={class:"py-2 col-span-2 sm:col-span-2"},$={class:"mt-1 flex rounded-md shadow-sm"},tt={class:"mb-2 py-2 px-2 md:px-2 bg-white shadow rounded-b-lg flex justify-between"},et={class:"inline-flex"},st={class:"flex"},ot={class:"max-w-full mx-auto sm:px-6 lg:px-8 mt-4"},at={key:0,class:"bg-white overflow-auto shadow-xl sm:rounded-lg"},lt={class:"min-w-full divide-y divide-gray-200"},nt={class:"bg-gray-50"},rt={key:0,scope:"col",class:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},it={class:"bg-white divide-y divide-gray-200 text-sm"},dt={key:0,class:"px-3 py-3 text-xs font-medium whitespace-nowrap"},ut={class:"px-6 py-3 text-xs font-medium whitespace-nowrap"},mt={class:"px-6 py-3 text-xs font-medium whitespace-nowrap"},xt={class:"px-6 py-3 text-xs font-medium whitespace-nowrap"},pt={class:"px-6 py-3 text-xs font-medium whitespace-nowrap"},ct={class:"px-6 py-3 text-xs font-medium whitespace-nowrap"},ft={class:"px-6 py-3 text-xs font-medium whitespace-nowrap"},gt={key:1,class:"w-full block mt-4"},yt={class:"text-xs text-gray-600"},bt={key:2},wt={key:0,class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"};function vt(b,t,a,o,w,v){const _=p("VueDatePicker"),u=p("multiselect"),m=p("pagination"),c=p("app-layout");return l(),U(c,null,{header:h(()=>t[14]||(t[14]=[e("h2",{class:"font-semibold text-xl text-white leading-tight"},"Radius Report",-1)])),default:h(()=>[e("div",P,[e("div",S,[e("div",T,[e("div",F,[e("div",A,[t[16]||(t[16]=e("label",{class:"text-sm font-medium text-gray-700"},"General",-1)),e("div",B,[t[15]||(t[15]=e("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-user"})],-1)),n(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>o.form.general=s),name:"sh_general",id:"sh_general",class:"pl-10 py-2.5 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Ticket ID/Customer ID/Customer Name etc.",tabindex:"1"},null,512),[[C,o.form.general]])])]),e("div",z,[e("fieldset",Y,[t[25]||(t[25]=e("legend",{class:"text-sm font-medium text-gray-700"},"Radius Status",-1)),e("label",I,[n(e("input",{type:"radio",class:"form-radio h-5 w-5 text-blue-900",name:"type","onUpdate:modelValue":t[1]||(t[1]=s=>o.form.radius_status=s),value:"any"},null,512),[[d,o.form.radius_status]]),t[17]||(t[17]=e("span",{class:"ml-2 text-gray-700"},"Any",-1))]),e("label",G,[n(e("input",{type:"radio",class:"form-radio h-5 w-5 text-green-600",name:"type","onUpdate:modelValue":t[2]||(t[2]=s=>o.form.radius_status=s),value:"online"},null,512),[[d,o.form.radius_status]]),t[18]||(t[18]=e("span",{class:"ml-2 text-gray-700"},"Online",-1))]),e("label",q,[n(e("input",{type:"radio",class:"form-radio h-5 w-5 text-blue-600",name:"type","onUpdate:modelValue":t[3]||(t[3]=s=>o.form.radius_status=s),value:"offline"},null,512),[[d,o.form.radius_status]]),t[19]||(t[19]=e("span",{class:"ml-2 text-gray-700"},"Offline",-1))]),e("label",H,[n(e("input",{type:"radio",class:"form-radio h-5 w-5 text-red-500",name:"type","onUpdate:modelValue":t[4]||(t[4]=s=>o.form.radius_status=s),value:"disabled"},null,512),[[d,o.form.radius_status]]),t[20]||(t[20]=e("span",{class:"ml-2 text-gray-700"},"Disabled",-1))]),e("label",J,[n(e("input",{type:"radio",class:"form-radio h-5 w-5 text-indigo-600",name:"type","onUpdate:modelValue":t[5]||(t[5]=s=>o.form.radius_status=s),value:"range_expired"},null,512),[[d,o.form.radius_status]]),t[21]||(t[21]=e("span",{class:"ml-2 text-gray-700"},"Range Expired",-1))]),e("label",K,[n(e("input",{type:"radio",class:"form-radio h-5 w-5 text-indigo-600",name:"type","onUpdate:modelValue":t[6]||(t[6]=s=>o.form.radius_status=s),value:"expired"},null,512),[[d,o.form.radius_status]]),t[22]||(t[22]=e("span",{class:"ml-2 text-gray-700"},"Expired",-1))]),e("label",Q,[n(e("input",{type:"radio",class:"form-radio h-5 w-5 text-yellow-600",name:"type","onUpdate:modelValue":t[7]||(t[7]=s=>o.form.radius_status=s),value:"not found"},null,512),[[d,o.form.radius_status]]),t[23]||(t[23]=e("span",{class:"ml-2 text-gray-700"},"Not Found",-1))]),e("label",W,[n(e("input",{type:"radio",class:"form-radio h-5 w-5 text-gray-600",name:"type","onUpdate:modelValue":t[8]||(t[8]=s=>o.form.radius_status=s),value:"no account"},null,512),[[d,o.form.radius_status]]),t[24]||(t[24]=e("span",{class:"ml-2 text-gray-700"},"No Account",-1))])])])]),o.form.radius_status!="no account"&&o.form.radius_status!="not found"&&o.form.radius_status!="any"?(l(),r("div",X,[e("div",Z,[t[26]||(t[26]=e("label",{class:"text-sm font-medium text-gray-700"},"Expiry Date",-1)),e("div",$,[f(_,{modelValue:o.form.expiration,"onUpdate:modelValue":t[9]||(t[9]=s=>o.form.expiration=s),range:{partialRange:!0},placeholder:"Please choose Expiry Date","enable-time-picker":!1,"model-type":"yyyy-MM-dd",id:"order_date",class:"text-gray-400 text-sm focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none"},null,8,["modelValue"])])])])):x("",!0)]),e("div",tt,[e("div",et,[t[27]||(t[27]=e("label",{class:"text-sm font-medium text-gray-700 w-20 mt-2",for:"vlan"},"VLAN : ",-1)),f(u,{class:g(b.border-0),"deselect-label":"Selected already",options:a.vlans,"track-by":"vlan",label:"vlan",modelValue:o.form.vlan,"onUpdate:modelValue":t[10]||(t[10]=s=>o.form.vlan=s),"allow-empty":!0},null,8,["class","options","modelValue"])]),e("div",st,[e("a",{onClick:t[11]||(t[11]=(...s)=>o.submit&&o.submit(...s)),class:"cursor-pointer inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},t[28]||(t[28]=[y("Search "),e("i",{class:"ml-1 fa fa-search text-white",tabindex:"10"},null,-1)])),e("a",{onClick:t[12]||(t[12]=(...s)=>o.resetFrom&&o.resetFrom(...s)),class:"ml-2 cursor-pointer inline-flex items-center px-4 py-2 bg-gray-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-200 disabled:opacity-25 transition"},t[29]||(t[29]=[y("Reset "),e("i",{class:"ml-1 fa fa-undo-alt text-white",tabindex:"11"},null,-1)])),e("a",{onClick:t[13]||(t[13]=(...s)=>o.doExcel&&o.doExcel(...s)),class:"ml-2 cursor-pointer inline-flex items-center px-4 py-2 bg-green-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:ring focus:ring-green-300 disabled:opacity-25 transition"},t[30]||(t[30]=[y("Export Excel "),e("i",{class:"ml-1 fa fa-download text-white",tabindex:"11"},null,-1)]))])])]),e("div",ot,[a.customers.data?(l(),r("div",at,[e("table",lt,[e("thead",nt,[e("tr",null,[a.radius?(l(),r("th",rt,"Radius")):x("",!0),t[31]||(t[31]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ID ",-1)),t[32]||(t[32]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name ",-1)),t[33]||(t[33]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Package",-1)),t[34]||(t[34]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Township",-1)),t[35]||(t[35]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status",-1)),t[36]||(t[36]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Expiration",-1))])]),e("tbody",it,[(l(!0),r(D,null,M(a.customers.data,s=>(l(),r("tr",{key:s.id,class:g(" text-"+s.color)},[a.radius?(l(),r("td",dt,[e("div",{class:g(["text-xs inline-flex items-center font-medium leading-sm capitalize px-3 py-1 rounded-full",{"bg-green-200 text-green-700 ":s.radius_status=="online","bg-blue-200 text-blue-700":s.radius_status=="offline","bg-red-200 text-red-700":s.radius_status=="disabled","bg-indigo-400 text-white border":s.radius_status=="expired","bg-orange-200 text-orange-700":s.radius_status=="not found","bg-white text-gray-700 border":s.radius_status=="no account"}])},i(s.radius_status),3)])):x("",!0),e("td",ut,i(s.ftth_id),1),e("td",mt,i(s.name),1),e("td",xt,i(s.package),1),e("td",pt,i(s.township),1),e("td",ct,i(s.status),1),e("td",ft,i(s.expiration),1)],2))),128))])])])):x("",!0),a.customers.total?(l(),r("span",gt,[e("label",yt,i(a.customers.data.length)+" Customers in Current Page. Total Number of Customers : "+i(a.customers.total),1)])):x("",!0),a.customers.links?(l(),r("span",bt,[f(m,{class:"mt-6",links:a.customers.links},null,8,["links"])])):x("",!0)])]),o.loading?(l(),r("div",wt,t[37]||(t[37]=[e("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),e("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),e("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):x("",!0)]),_:1})}const Ct=L(O,[["render",vt]]);export{Ct as default};
