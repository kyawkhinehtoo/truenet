import{A as C}from"./AppLayout-5S6LuvBy.js";import{P as M}from"./Pagination-B3nZN2FW.js";import{J as S,r as v,s as h,c as V,w,N as m,o as n,a as e,k as u,x as _,K as N,d as l,F as E,g as j,f as k,h as O,t as y,e as f,z as T,b as B}from"./app-BpUoshh9.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-Ch80CFF4.js";const U={name:"Voip",components:{AppLayout:C,Pagination:M},props:{voips:Object,errors:Object},setup(g){const t=S({id:null,voip_number:null}),r=v("");let s=v(!1),c=v(!1);function d(){t.voip_number=null}function b(){s.value?(t._method="PUT",t._method="PUT",m.post("/voip/"+t.id,t,{onSuccess:i=>{a(),d(),Toast.fire({icon:"success",title:i.props.flash.message})},onError:i=>{a(),console.log("error ..".errors)}})):(t._method="POST",m.post("/voip",t,{preserveState:!0,onSuccess:i=>{a(),d(),Toast.fire({icon:"success",title:i.props.flash.message})},onError:i=>{a(),console.log("error ..".errors)}}))}function x(i){t.id=i.id,t.voip_number=i.voip_number,s.value=!0,p()}function o(i){confirm("Are you sure want to remove?")&&(i._method="DELETE",m.post("/voip/"+i.id,i),a(),d())}function p(){c.value=!0}const a=()=>{c.value=!1,d(),s.value=!1};return{form:t,submit:b,editMode:s,isOpen:c,openModal:p,closeModal:a,edit:x,deleteRow:o,searchTsp:()=>{console.log("search value is"+r.value),m.get("/voip/",{voip:r.value},{preserveState:!0})},search:r}}},z={class:"py-2"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"flex justify-between space-x-2 items-end mb-2 px-1 md:px-0"},F={class:"relative flex flex-wrap z-0"},K={key:0,class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},L={class:"min-w-full divide-y divide-gray-200"},R={class:"bg-white divide-y divide-gray-200"},J={class:"px-6 py-3 whitespace-nowrap"},q={class:"px-6 py-3 whitespace-nowrap"},G={class:"px-6 py-3 whitespace-nowrap text-right text-sm font-medium"},H=["onClick"],I=["onClick"],Q={key:0,ref:"isOpen",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},W={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},X={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},Y={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Z={class:""},$={class:"mb-4"},ee={key:0,class:"text-red-500"},te={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},se={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},oe={"wire:click.prevent":"submit",type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},ie={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},re={"wire:click.prevent":"submit",type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},ne={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},ae={key:1};function le(g,t,r,s,c,d){const b=h("pagination"),x=h("app-layout");return n(),V(x,null,{header:w(()=>t[6]||(t[6]=[e("h2",{class:"font-semibold text-xl text-white leading-tight"}," Bundle Voip Setup ",-1)])),default:w(()=>[e("div",z,[e("div",A,[e("div",D,[e("div",F,[t[7]||(t[7]=e("span",{class:"z-10 h-full leading-snug font-normal absolute text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[e("i",{class:"fas fa-search"})],-1)),u(e("input",{type:"text",placeholder:"Search here...",class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white bg-white rounded text-sm shadow outline-none focus:outline-none focus:ring w-full pl-10",id:"search","onUpdate:modelValue":t[0]||(t[0]=o=>s.search=o),onKeyup:t[1]||(t[1]=N((...o)=>s.searchTsp&&s.searchTsp(...o),["enter"]))},null,544),[[_,s.search]])]),e("button",{onClick:t[2]||(t[2]=(...o)=>s.openModal&&s.openModal(...o)),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"}," Create")]),r.voips.data?(n(),l("div",K,[e("table",L,[t[9]||(t[9]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," No. "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Action")])])],-1)),e("tbody",R,[(n(!0),l(E,null,j(r.voips.data,o=>(n(),l("tr",{key:o.id},[e("td",J,y(o.id),1),e("td",q,y(o.voip_number),1),e("td",G,[e("a",{href:"#",onClick:p=>s.edit(o),class:"text-indigo-600 hover:text-indigo-900"},"Edit",8,H),t[8]||(t[8]=k(" | ")),e("a",{href:"#",onClick:p=>s.deleteRow(o),class:"text-red-600 hover:text-red-900"},"Delete",8,I)])]))),128))])]),s.isOpen?(n(),l("div",Q,[e("div",W,[t[11]||(t[11]=e("div",{class:"fixed inset-0 transition-opacity"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),t[12]||(t[12]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),t[13]||(t[13]=k("â€‹ ")),e("div",X,[e("form",{onSubmit:t[5]||(t[5]=O((...o)=>s.submit&&s.submit(...o),["prevent"]))},[e("div",Y,[e("div",Z,[e("div",$,[t[10]||(t[10]=e("label",{for:"voip_number",class:"block text-gray-700 text-sm font-bold mb-2"},"Voip Name:",-1)),u(e("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"voip_number",placeholder:"Enter Voip Name","onUpdate:modelValue":t[3]||(t[3]=o=>s.form.voip_number=o)},null,512),[[_,s.form.voip_number]]),g.$page.props.errors.voip_number?(n(),l("div",ee,y(g.$page.props.errors.voip_number[0]),1)):f("",!0)])])]),e("div",te,[e("span",se,[u(e("button",oe," Save ",512),[[T,!s.editMode]])]),e("span",ie,[u(e("button",re," Update ",512),[[T,s.editMode]])]),e("span",ne,[e("button",{onClick:t[4]||(t[4]=(...o)=>s.closeModal&&s.closeModal(...o)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Cancel ")])])],32)])])],512)):f("",!0)])):f("",!0),r.voips.links?(n(),l("span",ae,[B(b,{class:"mt-6",links:r.voips.links},null,8,["links"])])):f("",!0)])])]),_:1})}const ge=P(U,[["render",le]]);export{ge as default};
