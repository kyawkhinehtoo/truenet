import{A as g}from"./AppLayout-CdKr8ESd.js";import{P as x}from"./Pagination-BbMbld6b.js";import{J as y,r as _,q as h,B as w,s as c,c as v,w as p,N as f,o as M,a as o,h as k,k as d,x as n,b as C,z as b}from"./app-BlA7PXUo.js";import{M as V}from"./vue3-multiselect.umd.min-BmnbD0fr.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-Zok9paaL.js";const U={name:"BillConfig",components:{AppLayout:g,Pagination:x,Multiselect:V},props:{billconfig:Object,errors:Object},setup(l){const e=y({id:null,exclude_list:null,mrc_day:null,prepaid_day:null,mrc_month:null,prepaid_month:null}),i=[{id:"1",name:"Normal Customer"},{id:"2",name:"VIP Customer"},{id:"3",name:"Partner Customer"},{id:"4",name:"Office Staff"}];let r=_(!1);function m(){r.value?(e._method="PUT",f.post("/billconfig/"+e.id,e,{onSuccess:t=>{Toast.fire({icon:"success",title:t.props.flash.message})},onError:t=>{console.log("error ..".errors)}})):(e._method="POST",f.post("/billconfig",e,{preserveState:!0,onSuccess:t=>{Toast.fire({icon:"success",title:t.props.flash.message})},onError:t=>{console.log("error ..".errors)}}))}function u(t){if(r.value=!0,e.id=t.id,e.exclude_list=t.exclude_list,t.exclude_list){let a=t.exclude_list.split(",");e.exclude_list=i.filter(s=>a.includes(s.id))}e.mrc_day=t.mrc_day,e.prepaid_day=t.prepaid_day,e.mrc_month=t.mrc_month,e.prepaid_month=t.prepaid_month}return h(()=>{l.billconfig&&u(l.billconfig)}),w(()=>{}),{form:e,submit:m,editMode:r,customer_type:i}}},B={class:"py-2"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},N={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},T={class:""},O={class:"mb-4"},j={class:"mt-1 flex rounded-md shadow-sm"},A={class:"mb-4"},E={class:"mt-1 flex rounded-md shadow-sm"},L={class:"mb-24"},q={class:"mt-1 flex rounded-md shadow-sm"},z={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},I={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},J={type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},R={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},F={type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},G={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"};function H(l,e,i,r,m,u){const t=c("multiselect"),a=c("app-layout");return M(),v(a,null,{header:p(()=>e[7]||(e[7]=[o("h2",{class:"font-semibold text-xl text-white leading-tight"},"Bill Configuration",-1)])),default:p(()=>[o("div",B,[o("div",P,[o("div",D,[o("form",{onSubmit:e[6]||(e[6]=k((...s)=>r.submit&&r.submit(...s),["prevent"]))},[o("div",N,[o("div",T,[o("div",O,[e[10]||(e[10]=o("label",{for:"mrc_day",class:"block text-gray-700 text-sm font-bold mb-2"},"MRC :",-1)),o("div",j,[d(o("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=s=>r.form.mrc_day=s),name:"mrc_day",id:"mrc_day",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",placeholder:"Day"},null,512),[[n,r.form.mrc_day]]),e[8]||(e[8]=o("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Day ",-1)),d(o("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=s=>r.form.mrc_month=s),name:"mrc_month",id:"mrc_month",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",placeholder:"Month"},null,512),[[n,r.form.mrc_month]]),e[9]||(e[9]=o("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Month ",-1))])]),o("div",A,[e[13]||(e[13]=o("label",{for:"prepaid_day",class:"block text-gray-700 text-sm font-bold mb-2"},"Advance Payment :",-1)),o("div",E,[d(o("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=s=>r.form.prepaid_day=s),name:"prepaid_day",id:"prepaid_day",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",placeholder:"Day"},null,512),[[n,r.form.prepaid_day]]),e[11]||(e[11]=o("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Day ",-1)),d(o("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=s=>r.form.prepaid_month=s),name:"prepaid_month",id:"prepaid_month",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",placeholder:"Month"},null,512),[[n,r.form.prepaid_month]]),e[12]||(e[12]=o("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Month ",-1))])]),o("div",L,[e[14]||(e[14]=o("label",{for:"exclude_list",class:"block text-gray-700 text-sm font-bold mb-2"},"Excluded List:",-1)),o("div",q,[C(t,{"deselect-label":"Selected already",options:r.customer_type,"track-by":"id",label:"name",modelValue:r.form.exclude_list,"onUpdate:modelValue":e[4]||(e[4]=s=>r.form.exclude_list=s),"allow-empty":!0,multiple:!0,taggable:!0},null,8,["options","modelValue"])])])])]),o("div",z,[o("span",I,[d(o("button",J,"Save",512),[[b,!r.editMode]])]),o("span",R,[d(o("button",F,"Update",512),[[b,r.editMode]])]),o("span",G,[o("button",{onClick:e[5]||(e[5]=(...s)=>l.closeModal&&l.closeModal(...s)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Cancel")])])],32)])])])]),_:1})}const $=S(U,[["render",H]]);export{$ as default};
