import{A as T}from"./AppLayout-C4nqmM-A.js";import{P as L}from"./Pagination-ByUuzt23.js";import{_ as M}from"./PrimaryButton-dJjah-Os.js";import{_ as O}from"./DialogModal-C1s90Br1.js";import{_ as U}from"./SecondaryButton-DYyRMay7.js";import{_ as A}from"./DangerButton-fo8Vi_hn.js";import{_ as B,a as I}from"./TextInput-cmn4r1qR.js";import{_ as J}from"./ConfirmationModal-DG8tZ99w.js";import{T as j,r as v,s as f,d,b as p,w as m,F as P,N as D,o as c,a as t,k as b,x as y,K as F,g as K,e as u,t as i,f as x}from"./app-CMwXbEks.js";import{M as z}from"./vue3-multiselect.umd.min-CYmbS6iW.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-CKEwKU59.js";const G={name:"SNPorts",components:{AppLayout:T,Pagination:L,PrimaryButton:M,JetDialogModal:O,JetSecondaryButton:U,JetDangerButton:A,JetConfirmationModal:J,JetInput:B,JetInputError:I,useForm:j,Multiselect:z},props:{overall:Object,sns:Object,dns:Object,sns_all:Object,errors:Object},setup(a){let e=v(null),r=v(!1),s=v(!1),h=v("");const n=j({id:null,sn:null,dn_id:null,name:null,description:null,location:null,input_dbm:null});function k(l){e.value=l}function g(){n.id=null,n.dn_id=null,n.sn=null,n.name=null,n.description=null,n.location=null,n.input_dbm=null}function _(l){n.id=l.id,n.dn_id=a.dns.filter(o=>o.id==l.dn_id)[0],n.sn=a.sns_all.filter(o=>o.name==l.name)[0],n.name=l.name,n.description=l.description,n.location=l.location,n.input_dbm=l.input_dbm,r.value=!0,s.value=!0}function N(){s.value?(n._method="PUT",n.put("/snport/"+n.id,{preserveState:!0,onSuccess:l=>{r.value=!1,g(),Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{console.log("error ..".errors)}})):(n.sn&&(n.name=n.sn.name),n._method="POST",n.post("/snport",{preserveState:!0,onSuccess:l=>{r.value=!1,g(),Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{console.log("error ..".errors)}}))}function S(){r.value=!1,g()}function w(){let l=Object({});l.id=e.value,l._method="DELETE",D.post("/snport/"+l.id,l,{preserveScroll:!0,preserveState:!0,onSuccess:o=>{e.value=!1,Toast.fire({icon:"success",title:o.props.flash.message})},onError:o=>{r.value=!1,console.log("error ..".errors)}})}function C(){D.get("/snport/",{keyword:h.value},{preserveState:!0})}return{id:e,deleteNode:w,saveSN:N,editSN:_,cancelSN:S,showSN:r,form:n,editMode:s,confirmDelete:k,searchPort:C,search:h}}},H={class:"py-2"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={class:"flex justify-between space-x-2 items-end mb-2 px-1 mt-2 md:px-0"},W={class:"relative flex flex-wrap z-0"},X={key:0,class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Y={class:"min-w-full divide-y divide-gray-200 table-auto"},Z={class:"bg-white divide-y divide-gray-200 max-h-64"},$={class:"px-6 py-3 font-medium"},ee={class:"px-6 py-3 font-medium"},te={class:"px-6 py-3 font-medium"},oe={class:"px-6 py-3 font-medium"},se={class:"px-6 py-3 font-medium"},ne={class:"px-6 py-3 font-medium"},le={class:"px-6 py-3 font-medium"},re={class:"px-6 py-3 text-xs font-medium text-right"},ie=["onClick"],ae=["onClick"],de={key:1,class:"w-full block mt-4"},me={class:"text-xs text-gray-600"},ce={key:2},pe={key:0,class:"text-red-500"},ue={class:"mt-4 text-sm"},fe={key:0,class:"mt-1 flex rounded-md shadow-sm"},xe={class:"mb-4 md:col-span-1"},ge={key:0,class:"text-red-500"},be={class:"mb-4 md:col-span-1"},ye={key:0,class:"text-red-500"},_e={class:"mb-4 md:col-span-1"},ve={key:0,class:"text-red-500"},he={class:"mb-4 md:col-span-1"},ke={key:0,class:"text-red-500"};function Ne(a,e,r,s,h,n){const k=f("pagination"),g=f("app-layout"),_=f("jet-secondary-button"),N=f("jet-danger-button"),S=f("jet-confirmation-modal"),w=f("multiselect"),C=f("primary-button"),l=f("jet-dialog-modal");return c(),d(P,null,[p(g,null,{header:m(()=>e[11]||(e[11]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"SN Setup",-1)])),default:m(()=>[t("div",H,[t("div",Q,[t("div",R,[t("div",W,[e[12]||(e[12]=t("span",{class:"z-10 h-full leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{class:"fas fa-search"})],-1)),b(t("input",{type:"text",placeholder:"Search here...",class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white rounded text-sm shadow outline-none focus:outline-none focus:ring w-full pl-10",id:"search","onUpdate:modelValue":e[0]||(e[0]=o=>s.search=o),onKeyup:e[1]||(e[1]=F((...o)=>s.searchPort&&s.searchPort(...o),["enter"]))},null,544),[[y,s.search]])]),t("button",{onClick:e[2]||(e[2]=()=>{s.showSN=!0,s.editMode=!1}),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"}," Create ")]),r.overall.data?(c(),d("div",X,[t("table",Y,[e[14]||(e[14]=t("thead",{class:"bg-gray-50"},[t("tr",{class:"text-left"},[t("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"No."),t("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"DN/Port"),t("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"SN Name"),t("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Total Customers "),t("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Description"),t("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Location"),t("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Input dbm"),t("th",{scope:"col",class:"relative px-6 py-3"},[t("span",{class:"sr-only"},"Action")])])],-1)),t("tbody",Z,[(c(!0),d(P,null,K(r.overall.data,(o,E)=>(c(),d("tr",{key:o.id},[t("td",$,i(r.overall.from+E),1),t("td",ee,i(o.dn_name),1),t("td",te,i(o.name),1),t("td",oe,i(o.ports),1),t("td",se,i(o.description),1),t("td",ne,i(o.location),1),t("td",le,i(o.input_dbm),1),t("td",re,[t("a",{href:"#",onClick:V=>s.editSN(o),class:"text-indigo-600 hover:text-indigo-900"},"Edit",8,ie),e[13]||(e[13]=x(" | ")),t("a",{href:"#",onClick:V=>s.confirmDelete(o.id),class:"text-red-600 hover:text-red-900"},"Delete",8,ae)])]))),128))])])])):u("",!0),r.overall.total?(c(),d("span",de,[t("label",me,i(r.overall.data.length)+" SN Port List in Current Page. Total Number of SN Ports : "+i(r.overall.total),1)])):u("",!0),r.overall.links?(c(),d("span",ce,[p(k,{class:"mt-6",links:r.overall.links},null,8,["links"])])):u("",!0)])])]),_:1}),p(S,{show:s.id,onClose:e[4]||(e[4]=o=>s.id=null)},{title:m(()=>e[15]||(e[15]=[x(" Delete Node")])),content:m(()=>e[16]||(e[16]=[x(" Are you sure you would like to delete this API token? ")])),footer:m(()=>[p(_,{onClick:e[3]||(e[3]=o=>s.id=null)},{default:m(()=>e[17]||(e[17]=[x(" Cancel ")])),_:1}),p(N,{class:"ml-2",onClick:s.deleteNode},{default:m(()=>e[18]||(e[18]=[x(" Delete ")])),_:1},8,["onClick"])]),_:1},8,["show"]),p(l,{show:s.showSN,onClose:e[10]||(e[10]=o=>s.showSN=!1)},{title:m(()=>e[19]||(e[19]=[x(" Add New Port ")])),content:m(()=>[a.$page.props.errors[0]?(c(),d("div",pe,i(a.$page.props.errors[0]),1)):u("",!0),t("div",null,[t("div",ue,[r.dns.length!==0?(c(),d("div",fe,[p(w,{"deselect-label":"Selected already",options:r.dns,"track-by":"id",label:"name",modelValue:s.form.dn_id,"onUpdate:modelValue":e[5]||(e[5]=o=>s.form.dn_id=o),"allow-empty":!0},null,8,["options","modelValue"])])):u("",!0),t("div",xe,[e[20]||(e[20]=t("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"SN Name :",-1)),b(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"name",placeholder:"Enter SN Name","onUpdate:modelValue":e[6]||(e[6]=o=>s.form.name=o)},null,512),[[y,s.form.name]]),a.$page.props.errors.name?(c(),d("div",ge,i(a.$page.props.errors.name),1)):u("",!0)]),t("div",be,[e[21]||(e[21]=t("label",{for:"description",class:"block text-gray-700 text-sm font-bold mb-2"},"Description :",-1)),b(t("textarea",{class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"description",placeholder:"Enter Description","onUpdate:modelValue":e[7]||(e[7]=o=>s.form.description=o)},null,512),[[y,s.form.description]]),a.$page.props.errors.description?(c(),d("div",ye,i(a.$page.props.errors.description),1)):u("",!0)]),t("div",_e,[e[22]||(e[22]=t("label",{for:"location",class:"block text-gray-700 text-sm font-bold mb-2"},"SN Location :",-1)),b(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"location",placeholder:"Enter Location (Lat,Long)","onUpdate:modelValue":e[8]||(e[8]=o=>s.form.location=o)},null,512),[[y,s.form.location]]),a.$page.props.errors.location?(c(),d("div",ve,i(a.$page.props.errors.location),1)):u("",!0)]),t("div",he,[e[23]||(e[23]=t("label",{for:"input_dbm",class:"block text-gray-700 text-sm font-bold mb-2"},"SN Input dbm :",-1)),b(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"input_dbm",placeholder:"Enter Input Dbm","onUpdate:modelValue":e[9]||(e[9]=o=>s.form.input_dbm=o)},null,512),[[y,s.form.input_dbm]]),a.$page.props.errors.input_dbm?(c(),d("div",ke,i(a.$page.props.errors.input_dbm),1)):u("",!0)])])])]),footer:m(()=>[p(_,{onClick:s.cancelSN},{default:m(()=>e[24]||(e[24]=[x(" Close ")])),_:1},8,["onClick"]),p(C,{class:"ml-2",onClick:s.saveSN},{default:m(()=>e[25]||(e[25]=[x(" Save ")])),_:1},8,["onClick"])]),_:1},8,["show"])],64)}const Ue=q(G,[["render",Ne]]);export{Ue as default};
