import{A as Ee}from"./AppLayout-BByj_v5h.js";import{o as a,d as m,a as t,t as c,p as $,D as R,r as x,J as Ve,T as Ue,q as Me,B as Be,s as M,c as N,w as W,N as w,e as p,k as u,A as Te,g as J,F as Z,f as y,z as k,b as q,n as X,h as je,x as b,v as V}from"./app-CwXgj7O2.js";import{M as Oe}from"./vue3-multiselect.umd.min-3nLnfQle.js";import{P as Ae}from"./Pagination-CHg2DJW_.js";import{B as Re}from"./BillingSearch-Bd2GXril.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as Fe}from"./SmsGenerationProgress-Dsvw6XBg.js";import{V as Ne}from"./main-CDr1BHpQ.js";import"./DropdownLink-Dsobse8H.js";const qe={emits:["dismiss"],props:{progress:Number},setup(n,e){function f(){e.emit("dismiss",!0)}return{dismiss:f}}},ze={id:"toast-simple",class:"fixed top-5 right-5 flex items-center w-full max-w-xs p-4 space-x-4 rtl:space-x-reverse text-gray-500 bg-white divide-x rtl:divide-x-reverse divide-gray-100 rounded-lg shadow dark:text-gray-400 dark:divide-gray-700 space-x dark:bg-gray-800 z-20",role:"alert"},Ge={class:"relative w-full p-2"},Le={key:0,class:"text-xs"},Ye={key:1,class:"text-xs"},Ke={class:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-lightBlue-200"};function Qe(n,e,f,o,B,T){return a(),m("div",ze,[e[3]||(e[3]=t("i",{class:"fa fas fa-3x fa-file-pdf text-red-700","aria-hidden":"true"},null,-1)),t("div",Ge,[e[2]||(e[2]=t("h4",{class:"text-xs font-extrabold"},"OSS BSS System",-1)),f.progress!=100?(a(),m("label",Le,"Generating PDF in "+c(f.progress)+"% ",1)):(a(),m("label",Ye,"Generating PDF Completed ! ")),t("div",Ke,[t("div",{style:$(`width: ${f.progress}%`),class:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-lightBlue-500"},null,4)]),t("button",{type:"button",class:"absolute top-0 right-3 ms-auto -mx-1.5 -my-1.5 bg-white justify-center items-center flex-shrink-0 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-dismiss-target":"#toast-message-cta","aria-label":"Close",onClick:e[0]||(e[0]=g=>o.dismiss())},e[1]||(e[1]=[t("span",{class:"sr-only"},"Close",-1),t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)]))])])}const He=ee(qe,[["render",Qe]]),We={name:"BillList",components:{AppLayout:Ee,Pagination:Ae,BillingSearch:Re,Multiselect:Oe,SmsGenerationProgress:Fe,PdfGenerationProgress:He,VueDatePicker:Ne},props:{lists:Object,billings:Object,packages:Object,projects:Object,townships:Object,status:Object,errors:Object,user:Object,users:Object,roles:Object,max_receipt:Object,prepaid_customers:Object,receivable:String,paid:Number,current_bill:Object,last_invoices:Object,package_type:Object,smsgateway:Object},setup(n){R("packages",n.packages),R("projects",n.projects),R("townships",n.townships),R("status",n.status),R("package_type",n.package_type);const e=x(0),f=x(0),o=x({date:"YYYY-MM-DD",month:"MMM"});let B=x(!1),T=x(!1),g=x(!1),v=x(""),j=x(!1),S=x(!1),C=x(!1),O=x(!1),U=x(!1),D=x(0);const s=x(0);let _=x(!1);const A=x(!1),h=x(!1),i=Ve({id:null,bill_id:n.current_bill?n.current_bill.id:null,customer_id:null,period_covered:null,period_covered_2:null,bill_number:null,ftth_id:null,date_issued:null,receipt_date:null,bill_to:null,attn:null,service_description:null,total_payable:null,bill_year:null,bill_month:null,amount_in_word:null,user:null,type:[],currency:"mmk",transition:null,collected_amount:0,extra_amount:0,remark:null,receipt_status:null});function te(){i.id=null,i.bill_id=n.current_bill?n.current_bill.id:null,i.customer_id=null,i.period_covered=null,i.period_covered_2=null,i.bill_number=null,i.ftth_id=null,i.date_issued=null,i.receipt_date=null,i.bill_to=null,i.attn=null,i.service_description=null,i.total_payable=null,i.bill_year=null,i.bill_month=null,i.amount_in_word=null,i.user=null,i.type=[],i.transition=null,i.currency="mmk",i.collected_amount=0,i.extra_amount=0,i.remark=null,i.receipt_status=null,D.value=0}const r=Ue({id:null,bill_id:n.current_bill?n.current_bill.id:null,customer_id:null,start_date:null,bill_number:null,ftth_id:null,date_issued:null,bill_to:null,attn:null,previous_balance:null,current_charge:null,compensation:null,otc:null,sub_total:null,payment_duedate:null,service_description:null,qty:null,usage_day:null,usage_month:null,bonus_day:null,bonus_month:null,normal_cost:null,type:null,total_payable:null,discount:null,tax:null,email:null,phone:null,reset_pdf:null,reset_email:null,reset_sms:null,reset_receipt:null,receipt_id:null,customer_status:null,package:null,end_date:null,public_ip:0});function oe(l){r.id=l.id,r.bill_id=l.bill_id,r.customer_id=l.customer_id,r.start_date=l.start_date,r.end_date=l.end_date,r.bill_number=l.bill_number,r.ftth_id=l.ftth_id,r.date_issued=l.date_issued,r.bill_to=l.bill_to,r.attn=l.attn,r.previous_balance=l.previous_balance,r.current_charge=l.current_charge,r.compensation=l.compensation,r.otc=l.otc,r.sub_total=l.sub_total,r.payment_duedate=l.payment_duedate,r.service_description=l.service_description,r.qty=l.qty,r.usage_day=l.usage_day,r.usage_month=l.usage_month,r.bonus_day=l.bonus_day,r.bonus_month=l.bonus_month,r.public_ip=l.public_ip?l.public_ip:0,r.tax=l.tax,r.normal_cost=l.normal_cost,r.type=l.type?l.type:"Prepaid",r.total_payable=l.total_payable,r.discount=l.discount,r.email=l.email,r.phone=l.phone,r.reset_receipt=l.reset_receipt,r.receipt_id=l.receipt_id,r.package=n.packages.filter(d=>d.name==l.service_description)[0],S.value=!0,z()}function se(){r.reset(),S.value=!1,z()}function le(l,d){r.customer_id=l.id,r.bill_id=n.current_bill?n.current_bill.id:null,r.start_date=null,r.end_date=null,r.customer_status=l.customer_status,r.date_issued=new Date("Y-m-d"),r.bill_to=l.name,r.attn=l.address,r.previous_balance=0,r.current_charge=l.package_price,r.compensation=0,r.otc=0,r.public_ip=l.public_ip?l.public_ip:0,r.package=n.packages.filter(I=>I.name==l.package_name)[0],r.service_description=l.package_name,r.qty=l.package_speed+" Mbps",r.usage_month=1,r.usage_day=0,r.normal_cost=l.package_price,r.type="Prepaid",r.discount=0,r.email=l.email,r.phone=l.phone_1?l.phone_1:"",F()}function re(l,d){console.log("print out the normal cost"),r.service_description=l.name,r.qty=l.speed+" Mbps",r.normal_cost=l.price,L()}function L(){var l=new Date,d=l.getMonth(),I=l.getFullYear(),E=new Date(I,d,0).getDate();let G=r.usage_day?r.normal_cost/E*r.usage_day:0,Ie=r.usage_month?r.usage_month*r.normal_cost:0;r.current_charge=Math.round(G+Ie),F()}function ne(){r.reset()}function z(){C.value=!0}function Y(){C.value=!1,ne(),S.value=!1}function ie(){_.value=!0,r.post("/createInvoice",{onSuccess:l=>{Y(),_.value=!1,Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{_.value=!1,console.log(l)}})}function ae(){_.value=!0,r.receipt_id?Toast.fire({icon:"warning",title:"Are you sure you want to do ?",text:"Updating the data will be reset the receipt !",showCancelButton:!0,closeOnConfirm:!1,closeOnCancel:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, sure!",cancelButtonText:"No, cancel it!",timer:!1,timerProgressBar:!1}).then(function(l){l.isConfirmed?r.post("/updateInvoice",{onSuccess:d=>{_.value=!1,Toast.fire({icon:"success",title:d.props.flash.message})},onError:d=>{_.value=!1,console.log(d)}}):(_.value=!1,Toast.fire("Cancelled","Your data is safe","error"))}):r.post("/updateInvoice",{onSuccess:l=>{_.value=!1,Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{_.value=!1,console.log(l)}})}const de=l=>{let d="/showbill";i.bill_id!=null&&(l.bill_id=i.bill_id),v.value=l,w.get(d,l,{preserveState:!0})},me=()=>{B.value=!B.value},ue=()=>{T.value=!T.value};function ce(){let l=Object.create({});l.bill_id=i.bill_id,v.value=l,i._method="GET",w.get("/showbill",i,{preserveState:!0,resetOnSuccess:!0,onSuccess:d=>{},onError:d=>{console.log("error ..".errors)}})}function pe(l){return l?"<a href="+l+">Download</a>":"No File"}function be(l){w.post("/getReceiptPDF/"+l,l,{preserveState:!0,onSuccess:d=>{g.value=!1,Toast.fire({icon:"success",title:d.props.flash.message})},onError:d=>{console.log("error ..".errors)},onStart:d=>{g.value=!0}})}function fe(l){w.post("/getSinglePDF/"+l,l,{preserveState:!0,onSuccess:d=>{g.value=!1,Toast.fire({icon:"success",title:d.props.flash.message})},onError:d=>{P(),console.log("error ..".errors)},onStart:d=>{g.value=!0}})}function ge(){w.post("/getAllPDF",v.value,{preserveState:!0,onSuccess:l=>{g.value=!1,Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{P(),console.log("error ..".errors)},onStart:l=>{g.value=!0}})}function xe(l){w.post("/sendSingleSMS/"+l,l,{preserveState:!0,onSuccess:d=>{g.value=!1,Toast.fire({icon:"success",title:d.props.flash.message})},onError:d=>{P(),console.log("error ..".errors)},onStart:d=>{}})}function ye(){let l=v.value;w.post("/sendAllSMS",l,{preserveState:!0,onSuccess:d=>{g.value=!1,Toast.fire({icon:"success",title:d.props.flash.message})},onError:d=>{P(),console.log("error ..".errors)},onStart:d=>{g.value=!0}})}function _e(){let l=v.value;w.post("/sendBillReminder",l,{preserveState:!0,onSuccess:d=>{g.value=!1,Toast.fire({icon:"success",title:d.props.flash.message})},onError:d=>{P(),console.log("error ..".errors)},onStart:d=>{g.value=!0}})}function ve(){axios.post("/exportBillingExcel",v.value,{responseType:"blob"}).then(l=>{console.log(l);var d=document.createElement("a");document.body.appendChild(d),d.style="display: none";var I=new Blob([l.data],{type:l.headers["content-type"]});const E=document.createElement("a");E.href=window.URL.createObjectURL(I),E.download=`billings_${new Date().getTime()}.xlsx`,E.click()})}function we(){j.value=!0}function P(){j.value=!1,te(),S.value=!1}function ke(l){if(i.id=l.id,i.bill_id=l.bill_id,i.customer_id=l.customer_id,l.start_date&&l.end_date){var d={year:"numeric",month:"short",day:"numeric"},I=new Intl.DateTimeFormat("en-SG",d).format(new Date(l.start_date)),E=new Intl.DateTimeFormat("en-SG",d).format(new Date(l.end_date));i.period_covered_2=I+" to "+E}i.period_covered=l.period_covered,i.bill_number=l.bill_number,i.ftth_id=l.ftth_id,i.date_issued=l.date_issued,i.bill_to=l.bill_to,i.attn=l.attn,i.service_description=l.service_description,i.total_payable=l.total_payable,i.bill_year=l.bill_year,i.bill_month=l.bill_month,i.amount_in_word=l.amount_in_word,i.receipt_date=l.receipt_date,i.user=l.collected_person?n.users.filter(G=>G.id==l.collected_person)[0]:null,i.collected_amount=l.collected_amount,i.type=l.payment_channel?he(l.payment_channel):[],i.transition=l.transition,i.remark=l.remark,i.currency=l.currency?l.currency:"mmk",i.receipt_status=l.receipt_status,l.receipt_number?D.value="R"+l.bill_number.substring(0,4)+"-"+l.ftth_id+"-"+("00000"+l.receipt_number).slice(-5):D.value="R"+l.bill_number.substring(0,4)+"-"+l.ftth_id+"-"+("00000"+(n.max_receipt.max_receipt_number+1)).slice(-5),K(),we()}function he(l){return l.split(",").map(d=>d.trim().replace(/^"|"$/g,""))}function Se(){i._method="POST",w.post("/saveReceipt",i,{preserveState:!0,onSuccess:l=>{g.value=!1,Toast.fire({icon:"success",title:l.props.flash.message}),P()},onError:l=>{g.value=!1,console.log("error ..".errors)},onStart:l=>{console.log("Loading .."+l),g.value=!0}})}function K(){parseInt(i.collected_amount)<parseInt(i.total_payable)?(O.value=!0,i.extra_amount=parseInt(i.total_payable)-parseInt(i.collected_amount)):(O.value=!1,i.extra_amount=parseInt(i.collected_amount)-parseInt(i.total_payable)),isNaN(i.extra_amount)&&(i.extra_amount=0)}function Ce(){let l=parseInt(r.current_charge)+parseInt(r.otc)+parseInt(r.public_ip)-parseInt(r.compensation);r.sub_total=l.toFixed(0),r.tax=parseInt(r.sub_total)/100*5,r.tax=r.tax.toFixed(0),F()}function F(){let l=parseInt(r.current_charge)+parseInt(r.otc)+parseInt(r.public_ip)-parseInt(r.compensation);r.sub_total=l.toFixed(0);let d=parseInt(r.sub_total)-parseInt(r.discount);r.tax&&(d=parseInt(d)+parseInt(r.tax)),r.total_payable=d.toFixed(0)}function Q(){if(n.roles.filter(d=>d.id==n.user.role)[0].edit_invoice)return!0}function H(){if(n.paid!=0){let l=n.paid/n.receivable*100;s.value=l.toFixed(2)}else s.value=0}const De=l=>{l&&(A.value=!l,h.value=!l)};Me(()=>{console.log("Hey I am mount3ed"),n.packages.map(function(d){return d.item_data=`${d.price} MMK - ${d.name}`}),U.value=Q(),H();let l=n.current_bill?n.current_bill.id:null;if(l){let d=Object.create({});d.bill_id=l,v.value=d}});const Pe=l=>{confirm("Are you sure want to Delete?")&&(l._method="DELETE",w.post("/deleteInvoice/"+l.id,l))};return Be(()=>{n.packages.map(function(d){return d.item_data=`${d.price} Baht - ${d.name} ${d.site_name}`}),U.value=Q(),H(),r.bill_id=n.current_bill?n.current_bill.id:null,i.bill_id=n.current_bill?n.current_bill.id:null;let l=n.current_bill?n.current_bill.id:null;if(l){let d=Object.create({});d.bill_id=l,v.value=d}}),{form:i,form_2:r,formatter:o,view:ce,show_search:B,show_command:T,toggleAdv:me,toggleCmd:ue,goSearch:de,getFile:pe,generatePDF:fe,loading:g,generateAllPDF:ge,sendSMS:xe,parameter:v,sendAllSMS:ye,doExcel:ve,openReceipt:ke,closeModal:P,calc:K,form2_calc:F,calTax:Ce,isOpen:j,outstanding:O,saveReceipt:Se,updateInvoice:ae,generateReceiptPDF:be,receipt_number:D,editInvoice:C,edit_invoice:oe,openEdit:z,closeEdit:Y,createPrepaid:se,invoiceEdit:U,updateData:le,editMode:S,paid_percent:s,createInvoice:ie,updateUsage:L,disable_submit:_,updatePackage:re,pdfprogress:e,smsprogress:f,dismiss:De,showPdfProgress:A,showSmsProgress:h,sendBillReminder:_e,deleteRow:Pe}}},Je={class:"py-2"},Ze={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 flex"},Xe=["value"],$e={key:2,class:"max-w-full mx-auto sm:px-6 lg:px-8 mt-4 flex justify-between"},et={class:"flex"},tt={class:"fas fa-chevron-right text-gray-400"},ot={class:"fas fa-chevron-down text-gray-400"},st={class:"flex"},lt={class:"fas fa-chevron-right text-gray-400"},rt={class:"fas fa-chevron-down text-gray-400"},nt={class:"max-w-full mx-auto sm:px-6 lg:px-8 mt-4"},it={key:3,class:"max-w-full mx-auto sm:px-6 lg:px-8 mt-4"},at={key:0,class:"flex gap-2"},dt={class:"flex gap-2"},mt={key:4,class:"max-w-full mx-auto sm:px-6 lg:px-8 mt-4"},ut={class:"px-3 py-1 items-center bg-white rounded-md mb-2 shadow-sm flex justify-between w-full"},ct={class:"flex pt-1 w-full"},pt={class:"relative w-full"},bt={class:"text-xs"},ft={class:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-lightBlue-200 z-10"},gt={key:0,class:"bg-white overflow-auto shadow-xl sm:rounded-lg"},xt={class:"min-w-full divide-y divide-gray-200"},yt={class:"bg-gray-50"},_t={scope:"col",class:"relative px-6 py-3"},vt={key:0,class:"sr-only"},wt={class:"bg-white divide-y divide-gray-200"},kt={class:"pl-4 px-2 py-3 text-xs whitespace-nowrap"},ht={class:"px-2 py-3 text-xs whitespace-nowrap"},St={class:"px-2 py-3 text-xs whitespace-nowrap"},Ct={class:"px-2 py-3 text-xs whitespace-nowrap"},Dt={class:"px-2 py-3 text-xs whitespace-nowrap"},Pt={class:"px-2 py-3 text-xs whitespace-nowrap"},It={class:"px-2 py-3 text-xs whitespace-nowrap"},Et={key:0},Vt={key:0},Ut=["href"],Mt={key:1},Bt=["onClick"],Tt={class:"px-2 py-3 text-xs whitespace-nowrap"},jt={key:0},Ot={key:0},At={key:1},Rt={key:0},Ft=["onClick"],Nt={class:"px-2 py-3 text-xs whitespace-nowrap"},qt=["onClick"],zt=["onClick"],Gt={class:"px-2 py-3 text-xs whitespace-nowrap capitalize"},Lt={class:"px-2 py-3 text-xs whitespace-nowrap"},Yt={key:0},Kt={key:0},Qt=["href"],Ht={key:1},Wt=["onClick"],Jt={key:0,class:"px-6 py-3 text-xs whitespace-nowrap text-right font-medium"},Zt=["onClick"],Xt={key:0},$t=["onClick"],eo={key:1,class:"w-full block mt-4"},to={class:"text-xs text-gray-600"},oo={key:2},so={key:3,"wire:loading":"",class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"},lo={key:0,ref:"isOpen",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},ro={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},no={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},io={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex justify-between w-full"},ao={class:"shadow overflow-hidden border-b border-gray-200 p-4"},mo={class:"grid grid-cols-1 md:grid-cols-4 w-full"},uo={class:"col-span-2 sm:col-span-2 border-b-2 border-marga justify-end flex"},co={class:"grid grid-cols-1 md:grid-cols-4 gap-6 w-full py-4"},po={class:"col-span-3 sm:col-span-3 border-2 border-marga p-4"},bo={class:"col-span-1 sm:col-span-1 flex flex-col justify-between"},fo={class:"border-2 border-marga p-2 text-center flex flex-col"},go={class:"text-sm"},xo={class:"border-2 border-marga p-2 text-center flex flex-col mt-2"},yo={class:"text-sm"},_o={class:"border-2 border-marga p-2 text-center flex flex-col mt-2"},vo={class:"text-sm"},wo={class:"grid grid-cols-1 md:grid-cols-4 gap-6 w-full"},ko={class:"py-4 col-span-1 sm:col-span-1 border-2 border-marga text-center flex flex-col"},ho={class:"text-sm"},So={class:"py-4 col-span-3 sm:col-span-3 border-2 border-marga text-center flex flex-col"},Co={class:"text-sm"},Do={class:"grid grid-cols-1 md:grid-cols-6 w-full py-2 gap-6"},Po={class:"col-span-1 sm:col-span-1 border-b-2 border-marga"},Io={class:"col-span-3 sm:col-span-3 border-b-2 border-marga"},Eo={class:"flex"},Vo={class:"flex-auto items-center mt-1"},Uo={class:"flex-auto items-center mt-1"},Mo={class:"flex-auto items-center mt-1"},Bo={class:"flex-auto items-center mt-1"},To={class:"flex-auto items-center mt-1"},jo={class:"flex-auto items-center mt-1"},Oo={class:"flex-auto items-center mt-1"},Ao={class:"grid grid-cols-1 md:grid-cols-6 w-full py-2 gap-6"},Ro={class:"col-span-1 sm:col-span-1"},Fo={key:0,class:"block mt-2"},No={key:1,class:"block mt-2"},qo={class:"col-span-1 sm:col-span-1 border-b-2 border-marga"},zo={class:"col-span-3 sm:col-span-3 border-b-2 border-marga"},Go={class:"grid grid-cols-1 md:grid-cols-6 w-full py-2 gap-6"},Lo={class:"col-span-1 sm:col-span-1 border-b-2 border-marga"},Yo={class:"col-span-3 sm:col-span-3 border-b-2 border-marga"},Ko={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Qo={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Ho={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},Wo={key:1,ref:"editInvoice",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},Jo={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Zo={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},Xo={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 shadow sm:rounded-lg"},$o={key:0,class:"md:min-w-full text-indigo-700 text-sm uppercase font-bold block pt-1 no-underline"},es={key:1,class:"md:min-w-full text-indigo-700 text-sm uppercase font-bold block pt-1 no-underline"},ts={class:"md:grid md:grid-cols-3 md:gap-6"},os={class:"mb-4 md:col-span-1"},ss={key:2,class:"text-red-500"},ls={key:3,class:"text-red-500"},rs={class:"mb-4 md:col-span-1"},ns={key:0},is={key:0,class:"text-red-500"},as={key:1},ds={key:0,class:"text-red-500"},ms={key:2,class:"text-red-500"},us={class:"mb-4 md:col-span-1"},cs={class:"flex justify-between"},ps={class:"md:grid md:grid-cols-3 md:gap-6"},bs={class:"mb-4 md:col-span-1"},fs={key:0,class:"text-red-500"},gs={key:1,class:"text-red-500"},xs={key:2,class:"text-red-500"},ys={key:3,for:"usage_days",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},_s={class:"flex justify-between"},vs={key:4,class:"text-red-500"},ws={key:5,class:"text-red-500"},ks={class:"mb-4 md:col-span-2"},hs={key:0,class:"text-red-500"},Ss={key:1,class:"text-red-500"},Cs={key:2,class:"text-red-500"},Ds={key:3,class:"text-red-500"},Ps={key:4,class:"text-red-500"},Is={for:"tax",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},Es={key:5,class:"text-red-500"},Vs={key:6,class:"text-red-500"},Us={key:7,class:"text-red-500"},Ms={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Bs={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Ts=["disabled"],js={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Os=["disabled"],As={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"};function Rs(n,e,f,o,B,T){const g=M("PdfGenerationProgress"),v=M("SmsGenerationProgress"),j=M("billing-search"),S=M("pagination"),C=M("multiselect"),O=M("app-layout");return a(),N(O,null,{header:W(()=>e[68]||(e[68]=[t("h2",{class:"font-semibold text-xl text-white leading-tight"},"Bill List",-1)])),default:W(()=>{var U,D;return[t("div",Je,[o.showPdfProgress?(a(),N(g,{key:0,progress:o.pdfprogress,onDismiss:o.dismiss},null,8,["progress","onDismiss"])):p("",!0),o.showSmsProgress?(a(),N(v,{key:1,progress:o.smsprogress,onDismiss:o.dismiss},null,8,["progress","onDismiss"])):p("",!0),t("div",Ze,[e[71]||(e[71]=t("label",{for:"name",class:"block text-sm font-bold text-gray-700 w-24 mt-3"},"Billing List :",-1)),u(t("select",{id:"id","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.bill_id=s),name:"bill_id",class:"ml-2 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",tabindex:"1",required:""},[e[69]||(e[69]=t("option",{value:"0"},"-Choose Package-",-1)),(a(!0),m(Z,null,J(f.lists,s=>(a(),m("option",{key:s.id,value:s.id},c(s.name),9,Xe))),128))],512),[[Te,o.form.bill_id]]),t("a",{onClick:e[1]||(e[1]=(...s)=>o.view&&o.view(...s)),class:"ml-2 cursor-pointer inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},e[70]||(e[70]=[y("View "),t("i",{class:"ml-1 fa fa-search text-white",tabindex:"2"},null,-1)]))]),o.form.bill_id&&o.form.bill_id!=0?(a(),m("div",$e,[t("div",et,[t("a",{href:"#",class:"w-full text-right font-semibold text-xs underline mr-2",onClick:e[2]||(e[2]=(...s)=>o.toggleAdv&&o.toggleAdv(...s))},"Advance Search"),u(t("i",tt,null,512),[[k,!o.show_search]]),u(t("i",ot,null,512),[[k,o.show_search]])]),t("div",st,[t("a",{href:"#",class:"w-full text-right font-semibold text-xs underline mr-2",onClick:e[3]||(e[3]=(...s)=>o.toggleCmd&&o.toggleCmd(...s))},"Command Bar"),u(t("i",lt,null,512),[[k,!o.show_command]]),u(t("i",rt,null,512),[[k,o.show_command]])])])):p("",!0),u(t("div",nt,[q(j,{onSearch_parameter:o.goSearch},null,8,["onSearch_parameter"])],512),[[k,o.show_search]]),o.form.bill_id&&o.form.bill_id!=0?u((a(),m("div",it,[t("div",{class:X(["flex gap-2 bg-white shadow sm:rounded-lg space-x-2 items-center py-2 px-2 md:px-2",[((U=f.smsgateway)==null?void 0:U.status)=="1"?"justify-between":"justify-end"]])},[((D=f.smsgateway)==null?void 0:D.status)=="1"?(a(),m("div",at,[t("a",{onClick:e[4]||(e[4]=(...s)=>o.sendAllSMS&&o.sendAllSMS(...s)),class:"cursor-pointer inline-flex items-center px-2 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:border-red-700 focus:ring focus:ring-red-300 disabled:opacity-25 transition"},e[72]||(e[72]=[y("Broadcast Invoice "),t("i",{class:"ml-1 fa fa-sms text-white"},null,-1)])),t("a",{onClick:e[5]||(e[5]=(...s)=>o.sendBillReminder&&o.sendBillReminder(...s)),class:"cursor-pointer inline-flex items-center px-2 py-2 bg-yellow-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-500 active:bg-red-700 focus:outline-none focus:border-yellow-700 focus:ring focus:ring-red-300 disabled:opacity-25 transition"},e[73]||(e[73]=[y("Send Bill Reminder "),t("i",{class:"ml-1 fa fa-sms text-white"},null,-1)]))])):p("",!0),t("div",dt,[t("a",{onClick:e[6]||(e[6]=(...s)=>o.generateAllPDF&&o.generateAllPDF(...s)),class:"cursor-pointer inline-flex items-center px-2 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:border-blue-700 focus:ring focus:ring-blue-300 disabled:opacity-25 transition"},e[74]||(e[74]=[y("Generate All PDF "),t("i",{class:"ml-1 fa fa-file-pdf text-white"},null,-1)])),t("a",{onClick:e[7]||(e[7]=(...s)=>o.createPrepaid&&o.createPrepaid(...s)),class:"cursor-pointer inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-500 active:bg-indigo-700 focus:outline-none focus:border-indigo-700 focus:ring focus:ring-indigo-300 disabled:opacity-25 transition"},e[75]||(e[75]=[y("Add New Invoice "),t("i",{class:"ml-1 fa fa-plus-square text-white"},null,-1)])),t("a",{onClick:e[8]||(e[8]=(...s)=>o.doExcel&&o.doExcel(...s)),class:"cursor-pointer inline-flex items-center px-2 py-2 bg-green-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:ring focus:ring-green-300 disabled:opacity-25 transition"},e[76]||(e[76]=[y("Export "),t("i",{class:"ml-1 fa fa-download text-white"},null,-1)]))])],2)],512)),[[k,o.show_command]]):p("",!0),f.billings?(a(),m("div",mt,[t("div",ut,[t("div",ct,[t("div",pt,[t("label",bt,c(o.paid_percent)+"% Percentage of "+c(f.paid?new Intl.NumberFormat("en-US",{maximumSignificantDigits:8}).format(f.paid):0)+" Kyats in "+c(new Intl.NumberFormat("en-US",{maximumSignificantDigits:8}).format(f.receivable))+" Kyats",1),t("div",ft,[t("div",{style:$(`width: ${o.paid_percent}%`),class:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-lightBlue-500 z-10"},null,4)])])])]),f.billings.data?(a(),m("div",gt,[t("table",xt,[t("thead",yt,[t("tr",null,[e[77]||(e[77]=t("th",{scope:"col",class:"pl-3 px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," No.",-1)),e[78]||(e[78]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Bill No.",-1)),e[79]||(e[79]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," C-ID",-1)),e[80]||(e[80]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Package",-1)),e[81]||(e[81]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usage",-1)),e[82]||(e[82]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total",-1)),e[83]||(e[83]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t("i",{class:"fa fa-print"}),y(" Invoice ")],-1)),e[84]||(e[84]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Invoice Delivery",-1)),e[85]||(e[85]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Receipt",-1)),e[86]||(e[86]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Receipt Status",-1)),e[87]||(e[87]=t("th",{scope:"col",class:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t("i",{class:"fa fa-print"}),y(" Receipt ")],-1)),t("th",_t,[o.invoiceEdit?(a(),m("span",vt,"Action")):p("",!0)])])]),t("tbody",wt,[(a(!0),m(Z,null,J(f.billings.data,(s,_)=>{var A;return a(),m("tr",{key:s.id},[t("td",kt,c(_+=f.billings.from),1),t("td",ht,c(s.bill_number),1),t("td",St,c(s.ftth_id),1),t("td",Ct,c(s.service_description!==s.qty?s.service_description+`(${s.qty})`:s.service_description),1),t("td",Dt,c(s.usage_days),1),t("td",Pt,c(s.total_payable),1),t("td",It,[s.total_payable>0?(a(),m("span",Et,[s.invoice_file?(a(),m("span",Vt,[t("a",{href:"/s/"+s.invoice_url},"Download",8,Ut)])):(a(),m("span",Mt,[t("button",{type:"button",onClick:h=>o.generatePDF(s.id),class:"h-8 text-md w-24 bg-blue-600 rounded text-white hover:bg-blue-700"},"Make PDF",8,Bt)]))])):p("",!0)]),t("td",Tt,[s.total_payable>0?(a(),m("span",jt,[s.sms_sent_status?(a(),m("span",Ot,c(s.sent_date),1)):(a(),m("span",At,[((A=f.smsgateway)==null?void 0:A.status)=="1"&&s.invoice_file?(a(),m("span",Rt,[t("button",{type:"button",onClick:h=>o.sendSMS(s.id),class:"h-8 text-md w-20 bg-red-600 rounded text-white hover:bg-red-700"},"Send",8,Ft)])):p("",!0)]))])):p("",!0)]),t("td",Nt,[s.receipt_status?(a(),m("button",{key:0,type:"button",onClick:h=>o.openReceipt(s),class:"h-8 text-md w-24 bg-green-600 rounded text-white hover:bg-green-700"},"View Receipt",8,qt)):(a(),m("button",{key:1,type:"button",onClick:h=>o.openReceipt(s),class:"h-8 text-md w-24 bg-green-400 rounded text-white hover:bg-green-500"},"Make Receipt",8,zt))]),t("td",Gt,c(s.receipt_status?s.receipt_status.replace("_"," "):""),1),t("td",Lt,[s.receipt_status?(a(),m("span",Yt,[s.receipt_file?(a(),m("span",Kt,[t("a",{href:"/s/"+s.receipt_url},"Download",8,Qt)])):(a(),m("span",Ht,[t("button",{type:"button",onClick:h=>o.generateReceiptPDF(s.receipt_id),class:"h-8 text-md w-24 bg-blue-600 rounded text-white hover:bg-blue-700"},"Make PDF",8,Wt)]))])):p("",!0)]),o.invoiceEdit?(a(),m("td",Jt,[t("a",{href:"#",onClick:h=>o.edit_invoice(s),class:"text-yellow-600 hover:text-yellow-900"},e[88]||(e[88]=[t("i",{class:"fas fa-pen"},null,-1)]),8,Zt),f.user.delete_invoice?(a(),m("span",Xt,[e[90]||(e[90]=y(" | ")),t("a",{href:"#",onClick:h=>o.deleteRow(s),class:"text-red-600 hover:text-red-900"},e[89]||(e[89]=[t("i",{class:"fas fa-trash"},null,-1)]),8,$t)])):p("",!0)])):p("",!0)])}),128))])])])):p("",!0),f.billings.total?(a(),m("span",eo,[t("label",to,c(f.billings.data.length)+" Invoices in Current Page. Total Number of Invoices : "+c(f.billings.total),1)])):p("",!0),f.billings.links?(a(),m("span",oo,[q(S,{class:"mt-6",links:f.billings.links},null,8,["links"])])):p("",!0),o.loading?(a(),m("div",so,e[91]||(e[91]=[t("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),t("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),t("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):p("",!0)])):p("",!0)]),o.isOpen?(a(),m("div",lo,[t("div",ro,[e[117]||(e[117]=t("div",{class:"fixed inset-0 transition-opacity"},[t("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e[118]||(e[118]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),e[119]||(e[119]=y("​ ")),t("div",no,[t("div",io,[e[92]||(e[92]=t("h1",{class:"flex text-indigo-700 text-md uppercase font-bold block pt-1 no-underline"},"Receipt Form",-1)),t("i",{class:"flex fa fa-2x fas fa-times-circle text-red-500 hover:text-red-800 cursor-pointer",onClick:e[9]||(e[9]=(...s)=>o.closeModal&&o.closeModal(...s))})]),t("form",{onSubmit:e[26]||(e[26]=je((...s)=>n.submit&&n.submit(...s),["prevent"]))},[t("div",ao,[u(t("p",{class:"mt-2 text-sm text-red-500 block"},c(n.$page.props.errors.receipt_date),513),[[k,n.$page.props.errors.receipt_date]]),u(t("p",{class:"mt-2 text-sm text-red-500 block"},c(n.$page.props.errors.collected_amount),513),[[k,n.$page.props.errors.collected_amount]]),t("div",mo,[e[94]||(e[94]=t("div",{class:"col-span-2 sm:col-span-2 border-2 border-marga bg-marga"},[t("h1",{class:"text-gray-200 text-lg font-semibold mt-1 px-2"},"CASH RECEIPT")],-1)),t("div",uo,[e[93]||(e[93]=t("span",{class:"inline-flex text-sm p-2"},"Payment Date: ",-1)),u(t("input",{type:"date",class:"py-2 focus:ring-indigo-500 focus:border-indigo-500 inline-flex sm:text-sm border-2 border-gray-300","onUpdate:modelValue":e[10]||(e[10]=s=>o.form.receipt_date=s)},null,512),[[b,o.form.receipt_date]])])]),t("div",co,[t("div",po,[t("p",null,"Payer Name : "+c(o.form.bill_to),1),t("p",null,"Payer Address : "+c(o.form.attn),1),t("p",null,"Payment Description : "+c(o.form.service_description),1),t("p",null,"Period Covered : "+c(o.form.period_covered_2),1)]),t("div",bo,[t("div",fo,[e[95]||(e[95]=t("span",{class:"font-semibold text-md"},"Reference :",-1)),e[96]||(e[96]=y()),t("span",go,c(o.receipt_number),1)]),t("div",xo,[e[97]||(e[97]=t("span",{class:"font-semibold text-md"},"Bill Number:",-1)),e[98]||(e[98]=y()),t("span",yo,c(o.form.bill_number),1)]),t("div",_o,[e[99]||(e[99]=t("span",{class:"font-semibold text-md"},"Customer ID:",-1)),e[100]||(e[100]=y()),t("span",vo,c(o.form.ftth_id),1)])])]),t("div",wo,[t("div",ko,[e[101]||(e[101]=t("span",{class:"font-semibold text-md"},"Amount (MMK):",-1)),e[102]||(e[102]=y()),t("span",ho,c(o.form.total_payable),1)]),t("div",So,[e[103]||(e[103]=t("span",{class:"font-semibold text-md"},"Amount In Word:",-1)),e[104]||(e[104]=y()),t("span",Co,c(o.form.amount_in_word),1)])]),t("div",Do,[e[112]||(e[112]=t("div",{class:"col-span-1 sm:col-span-1"},[t("label",{class:"block mt-2"},"Received Amount")],-1)),t("div",Po,[u(t("input",{type:"text",class:"py-2 px-0 inline-flex sm:text-sm border-0 focus:ring-0 w-full","onUpdate:modelValue":e[11]||(e[11]=s=>o.form.collected_amount=s),onChange:e[12]||(e[12]=(...s)=>o.calc&&o.calc(...s))},null,544),[[b,o.form.collected_amount]])]),e[113]||(e[113]=t("div",{class:"col-span-1 sm:col-span-1"},[t("label",{class:"block mt-2"},"Payment Channel")],-1)),t("div",Io,[t("div",Eo,[t("label",Vo,[u(t("input",{type:"checkbox",class:"h-5 w-5 rounded shadow hover:shadow-md text-yellow-400",checked:"",name:"wave_pay","onUpdate:modelValue":e[13]||(e[13]=s=>o.form.type=s),value:"wave_pay"},null,512),[[V,o.form.type]]),e[105]||(e[105]=t("span",{class:"ml-2 text-gray-700 text-xs font-semibold"},"Wave Pay",-1))]),t("label",Uo,[u(t("input",{type:"checkbox",class:"h-5 w-5 rounded shadow hover:shadow-md text-blue-600",name:"kbz_pay","onUpdate:modelValue":e[14]||(e[14]=s=>o.form.type=s),value:"kbz_pay"},null,512),[[V,o.form.type]]),e[106]||(e[106]=t("span",{class:"ml-2 text-gray-700 text-xs font-semibold"},"KPay",-1))]),t("label",Mo,[u(t("input",{type:"checkbox",class:"h-5 w-5 rounded shadow hover:shadow-md text-red-400",name:"quick_pay","onUpdate:modelValue":e[15]||(e[15]=s=>o.form.type=s),value:"quick_pay"},null,512),[[V,o.form.type]]),e[107]||(e[107]=t("span",{class:"ml-2 text-gray-700 text-xs font-semibold"},"KBZ Quickpay",-1))]),t("label",Bo,[u(t("input",{type:"checkbox",class:"h-5 w-5 rounded shadow hover:shadow-md text-red-600",name:"aya_pay","onUpdate:modelValue":e[16]||(e[16]=s=>o.form.type=s),value:"aya_pay"},null,512),[[V,o.form.type]]),e[108]||(e[108]=t("span",{class:"ml-2 text-gray-700 text-xs font-semibold"},"AYA Pay",-1))]),t("label",To,[u(t("input",{type:"checkbox",class:"h-5 w-5 rounded shadow hover:shadow-md text-green-600",name:"citizen_pay","onUpdate:modelValue":e[17]||(e[17]=s=>o.form.type=s),value:"citizen_pay"},null,512),[[V,o.form.type]]),e[109]||(e[109]=t("span",{class:"ml-2 text-gray-700 text-xs font-semibold"},"Citizen Pay",-1))]),t("label",jo,[u(t("input",{type:"checkbox",class:"h-5 w-5 rounded shadow hover:shadow-md text-indigo-600",name:"cash","onUpdate:modelValue":e[18]||(e[18]=s=>o.form.type=s),value:"cash"},null,512),[[V,o.form.type]]),e[110]||(e[110]=t("span",{class:"ml-2 text-gray-700 text-xs font-semibold"},"Cash",-1))]),t("label",Oo,[u(t("input",{type:"checkbox",class:"h-5 w-5 rounded shadow hover:shadow-md text-indigo-400",name:"offset","onUpdate:modelValue":e[19]||(e[19]=s=>o.form.type=s),value:"offset"},null,512),[[V,o.form.type]]),e[111]||(e[111]=t("span",{class:"ml-2 text-gray-700 text-xs font-semibold"},"Offset",-1))])])])]),t("div",Ao,[t("div",Ro,[o.outstanding?(a(),m("label",Fo,"Outstanding Amount:")):(a(),m("label",No,"Surplus Amount:"))]),t("div",qo,[u(t("input",{type:"text",class:"py-2 px-0 inline-flex sm:text-sm border-0 focus:ring-0 w-full","onUpdate:modelValue":e[20]||(e[20]=s=>o.form.extra_amount=s)},null,512),[[b,o.form.extra_amount]])]),e[114]||(e[114]=t("div",{class:"col-span-1 sm:col-span-1"},[t("label",{class:"block mt-2"},"Transition ID:")],-1)),t("div",zo,[u(t("input",{type:"text",class:"py-2 px-0 inline-flex sm:text-sm border-0 focus:ring-0 w-full","onUpdate:modelValue":e[21]||(e[21]=s=>o.form.transition=s)},null,512),[[b,o.form.transition]])])]),t("div",Go,[e[115]||(e[115]=t("div",{class:"col-span-1 sm:col-span-1"},[t("label",{class:"block mt-2"},"Received By:")],-1)),t("div",Lo,[q(C,{class:X(n.border-0),"deselect-label":"Selected already",options:f.users,"track-by":"id",label:"name",modelValue:o.form.user,"onUpdate:modelValue":e[22]||(e[22]=s=>o.form.user=s),"allow-empty":!1},null,8,["class","options","modelValue"])]),e[116]||(e[116]=t("div",{class:"col-span-1 sm:col-span-1"},[t("label",{class:"block mt-2"},"Remark:")],-1)),t("div",Yo,[u(t("textarea",{class:"py-2 px-0 inline-flex sm:text-sm border-0 focus:ring-0 w-full","onUpdate:modelValue":e[23]||(e[23]=s=>o.form.remark=s)},null,512),[[b,o.form.remark]])])])]),t("div",Ko,[t("span",Qo,[o.form.receipt_status?p("",!0):(a(),m("button",{key:0,onClick:e[24]||(e[24]=(...s)=>o.saveReceipt&&o.saveReceipt(...s)),type:"button",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},"GO !"))]),t("span",Ho,[t("button",{onClick:e[25]||(e[25]=(...s)=>o.closeModal&&o.closeModal(...s)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Cancel")])])],32)])])],512)):p("",!0),o.editInvoice?(a(),m("div",Wo,[t("div",Jo,[e[150]||(e[150]=t("div",{class:"fixed inset-0 transition-opacity"},[t("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e[151]||(e[151]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),e[152]||(e[152]=y("​ ")),t("div",Zo,[t("div",Xo,[o.editMode?(a(),m("h6",$o," Billing Detail Information")):(a(),m("h6",es,"Create Invoice")),e[148]||(e[148]=t("div",{class:"hidden sm:block","aria-hidden":"true"},[t("div",{class:"py-5"},[t("div",{class:"border-t border-gray-200"})])],-1)),t("div",ts,[t("div",os,[e[120]||(e[120]=t("label",{for:"ftth_id",class:"block text-gray-700 text-sm font-bold mb-2"},"Customer ID :",-1)),o.editMode?u((a(),m("input",{key:0,type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"ftth_id",placeholder:"Enter Customer ID","onUpdate:modelValue":e[27]||(e[27]=s=>o.form_2.ftth_id=s),disabled:""},null,512)),[[b,o.form_2.ftth_id]]):(a(),N(C,{key:1,"deselect-label":"Selected already",options:f.prepaid_customers,"track-by":"id",label:"ftth_id",modelValue:o.form_2.ftth_id,"onUpdate:modelValue":e[28]||(e[28]=s=>o.form_2.ftth_id=s),"allow-empty":!0,onSelect:o.updateData},null,8,["options","modelValue","onSelect"])),n.$page.props.errors.ftth_id?(a(),m("div",ss,c(n.$page.props.errors.ftth_id),1)):p("",!0),e[121]||(e[121]=t("label",{for:"bill_to",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Customer Name :",-1)),u(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"bill_to",placeholder:"Enter Bill To","onUpdate:modelValue":e[29]||(e[29]=s=>o.form_2.bill_to=s)},null,512),[[b,o.form_2.bill_to]]),e[122]||(e[122]=t("label",{for:"attn",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Customer Address :",-1)),u(t("textarea",{class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"attn",placeholder:"Enter Attention","onUpdate:modelValue":e[30]||(e[30]=s=>o.form_2.attn=s)},null,512),[[b,o.form_2.attn]]),n.$page.props.errors.attn?(a(),m("div",ls,c(n.$page.props.errors.attn[0]),1)):p("",!0)]),t("div",rs,[o.editMode?(a(),m("div",ns,[e[123]||(e[123]=t("label",{for:"bill_number",class:"block text-gray-700 text-sm font-bold mb-2"},"Bill Number :",-1)),u(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"bill_number",placeholder:"Enter Bill Number","onUpdate:modelValue":e[31]||(e[31]=s=>o.form_2.bill_number=s)},null,512),[[b,o.form_2.bill_number]]),n.$page.props.errors.bill_number?(a(),m("div",is,c(n.$page.props.errors.bill_number),1)):p("",!0)])):(a(),m("div",as,[e[124]||(e[124]=t("label",{for:"customer_status",class:"block text-gray-700 text-sm font-bold mb-2"},"Customer Status :",-1)),u(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"customer_status","onUpdate:modelValue":e[32]||(e[32]=s=>o.form_2.customer_status=s)},null,512),[[b,o.form_2.customer_status]]),n.$page.props.errors.customer_status?(a(),m("div",ds,c(n.$page.props.errors.customer_status),1)):p("",!0)])),e[125]||(e[125]=t("label",{for:"date_issued",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Bill Issue Date :",-1)),u(t("input",{type:"date",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"date_issued",placeholder:"Enter Issue Date","onUpdate:modelValue":e[33]||(e[33]=s=>o.form_2.date_issued=s)},null,512),[[b,o.form_2.date_issued]]),e[126]||(e[126]=t("label",{for:"payment_duedate",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Bill Due Date :",-1)),u(t("input",{type:"date",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"payment_duedate",placeholder:"Enter Payment Due Date","onUpdate:modelValue":e[34]||(e[34]=s=>o.form_2.payment_duedate=s)},null,512),[[b,o.form_2.payment_duedate]]),n.$page.props.errors.payment_duedate?(a(),m("div",ms,c(n.$page.props.errors.payment_duedate[0]),1)):p("",!0)]),t("div",us,[e[129]||(e[129]=t("label",{for:"start_date",class:"block text-gray-700 text-sm font-bold mb-2"},"Bill Start Date :",-1)),u(t("input",{type:"date",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"start_date",placeholder:"Enter Bill Start Date","onUpdate:modelValue":e[35]||(e[35]=s=>o.form_2.start_date=s)},null,512),[[b,o.form_2.start_date]]),e[130]||(e[130]=t("label",{for:"end_date",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Bill End Date :",-1)),u(t("input",{type:"date",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"end_date",placeholder:"Enter Bill End Date","onUpdate:modelValue":e[36]||(e[36]=s=>o.form_2.end_date=s)},null,512),[[b,o.form_2.end_date]]),e[131]||(e[131]=t("label",{for:"bonus_day",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Bonus Day/Month (If Any) :",-1)),t("div",cs,[u(t("input",{type:"number",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",id:"bonus_day","onUpdate:modelValue":e[37]||(e[37]=s=>o.form_2.bonus_day=s)},null,512),[[b,o.form_2.bonus_day]]),e[127]||(e[127]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Days ",-1)),u(t("input",{type:"number",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",id:"bonus_month","onUpdate:modelValue":e[38]||(e[38]=s=>o.form_2.bonus_month=s)},null,512),[[b,o.form_2.bonus_month]]),e[128]||(e[128]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Months ",-1))])])]),e[149]||(e[149]=t("div",{class:"hidden sm:block","aria-hidden":"true"},[t("div",{class:"py-5"},[t("div",{class:"border-t border-gray-200"})])],-1)),t("div",ps,[t("div",bs,[e[134]||(e[134]=t("label",{for:"service_description",class:"block text-gray-700 text-sm font-bold mb-2"},"Service Description :",-1)),q(C,{"deselect-label":"Selected already",options:f.packages,"track-by":"id",label:"item_data",modelValue:o.form_2.package,"onUpdate:modelValue":e[39]||(e[39]=s=>o.form_2.package=s),"allow-empty":!1,onSelect:o.updatePackage},null,8,["options","modelValue","onSelect"]),e[135]||(e[135]=t("label",{for:"normal_cost",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Original Package Price :",-1)),u(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"normal_cost","onUpdate:modelValue":e[40]||(e[40]=s=>o.form_2.normal_cost=s),disabled:""},null,512),[[b,o.form_2.normal_cost]]),n.$page.props.errors.normal_cost?(a(),m("div",fs,c(n.$page.props.errors.normal_cost),1)):p("",!0),e[136]||(e[136]=t("label",{for:"qty",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"QTY :",-1)),u(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"qty",placeholder:"Enter QTY","onUpdate:modelValue":e[41]||(e[41]=s=>o.form_2.qty=s),disabled:""},null,512),[[b,o.form_2.qty]]),n.$page.props.errors.qty?(a(),m("div",gs,c(n.$page.props.errors.qty),1)):p("",!0),e[137]||(e[137]=t("label",{for:"type",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Type :",-1)),u(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"type",placeholder:"Enter Type (MRC/Prepaid)","onUpdate:modelValue":e[42]||(e[42]=s=>o.form_2.type=s)},null,512),[[b,o.form_2.type]]),n.$page.props.errors.type?(a(),m("div",xs,c(n.$page.props.errors.type),1)):(a(),m("label",ys,"Usage (Days - Month) :")),t("div",_s,[u(t("input",{type:"number",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",id:"usage_day","onUpdate:modelValue":e[43]||(e[43]=s=>o.form_2.usage_day=s),onInput:e[44]||(e[44]=(...s)=>o.updateUsage&&o.updateUsage(...s))},null,544),[[b,o.form_2.usage_day]]),e[132]||(e[132]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Days ",-1)),u(t("input",{type:"number",class:"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300",id:"usage_month","onUpdate:modelValue":e[45]||(e[45]=s=>o.form_2.usage_month=s),onInput:e[46]||(e[46]=(...s)=>o.updateUsage&&o.updateUsage(...s))},null,544),[[b,o.form_2.usage_month]]),e[133]||(e[133]=t("span",{class:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"}," Months ",-1))]),e[138]||(e[138]=t("label",{for:"email",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Email :",-1)),u(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"email",placeholder:"Enter Email","onUpdate:modelValue":e[47]||(e[47]=s=>o.form_2.email=s)},null,512),[[b,o.form_2.email]]),n.$page.props.errors.email?(a(),m("div",vs,c(n.$page.props.errors.email),1)):p("",!0),e[139]||(e[139]=t("label",{for:"phone",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Phone :",-1)),u(t("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"phone",placeholder:"Enter Phone Number","onUpdate:modelValue":e[48]||(e[48]=s=>o.form_2.phone=s)},null,512),[[b,o.form_2.phone]]),n.$page.props.errors.phone?(a(),m("div",ws,c(n.$page.props.errors.phone),1)):p("",!0)]),t("div",ks,[e[141]||(e[141]=t("label",{for:"current_charge",class:"block text-gray-700 text-sm font-bold mb-2"},"Current Charge :",-1)),u(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"current_charge",placeholder:"Enter Current Charge","onUpdate:modelValue":e[49]||(e[49]=s=>o.form_2.current_charge=s),onChange:e[50]||(e[50]=(...s)=>o.form2_calc&&o.form2_calc(...s))},null,544),[[b,o.form_2.current_charge]]),n.$page.props.errors.current_charge?(a(),m("div",hs,c(n.$page.props.errors.current_charge),1)):p("",!0),e[142]||(e[142]=t("label",{for:"otc",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"OTC :",-1)),u(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"otc",placeholder:"Enter OTC","onUpdate:modelValue":e[51]||(e[51]=s=>o.form_2.otc=s),onChange:e[52]||(e[52]=(...s)=>o.form2_calc&&o.form2_calc(...s))},null,544),[[b,o.form_2.otc]]),n.$page.props.errors.otc?(a(),m("div",Ss,c(n.$page.props.errors.otc),1)):p("",!0),e[143]||(e[143]=t("label",{for:"public_ip",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Public IP :",-1)),u(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"otc",placeholder:"Enter Public IP Charges","onUpdate:modelValue":e[53]||(e[53]=s=>o.form_2.public_ip=s),onChange:e[54]||(e[54]=(...s)=>o.form2_calc&&o.form2_calc(...s))},null,544),[[b,o.form_2.public_ip]]),n.$page.props.errors.otc?(a(),m("div",Cs,c(n.$page.props.errors.public_ip),1)):p("",!0),e[144]||(e[144]=t("label",{for:"compensation",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Compensation :",-1)),u(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"compensation",placeholder:"Enter Compensation","onUpdate:modelValue":e[55]||(e[55]=s=>o.form_2.compensation=s),onChange:e[56]||(e[56]=(...s)=>o.form2_calc&&o.form2_calc(...s))},null,544),[[b,o.form_2.compensation]]),n.$page.props.errors.compensation?(a(),m("div",Ds,c(n.$page.props.errors.compensation),1)):p("",!0),e[145]||(e[145]=t("label",{for:"sub_total",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Sub Total :",-1)),u(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"total_mmk",placeholder:"Enter Sub Total","onUpdate:modelValue":e[57]||(e[57]=s=>o.form_2.sub_total=s),onChange:e[58]||(e[58]=(...s)=>o.form2_calc&&o.form2_calc(...s))},null,544),[[b,o.form_2.sub_total]]),n.$page.props.errors.sub_total?(a(),m("div",Ps,c(n.$page.props.errors.sub_total),1)):p("",!0),t("label",Is,[e[140]||(e[140]=y("Commercial Tax (5%) : ")),t("button",{type:"button",class:"inline-flex justify-center rounded-md border border-gray-300 px-4 py-2 bg-blue-500 text-base leading-6 font-medium text-white shadow-sm hover:text-white focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5",onClick:e[59]||(e[59]=(...s)=>o.calTax&&o.calTax(...s))},"Calculate ")]),u(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"tax","onUpdate:modelValue":e[60]||(e[60]=s=>o.form_2.tax=s),onChange:e[61]||(e[61]=(...s)=>o.form2_calc&&o.form2_calc(...s))},null,544),[[b,o.form_2.tax]]),n.$page.props.errors.tax?(a(),m("div",Es,c(n.$page.props.errors.tax),1)):p("",!0),e[146]||(e[146]=t("label",{for:"discount",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Discount :",-1)),u(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"discount",placeholder:"Enter Discount","onUpdate:modelValue":e[62]||(e[62]=s=>o.form_2.discount=s),onChange:e[63]||(e[63]=(...s)=>o.form2_calc&&o.form2_calc(...s))},null,544),[[b,o.form_2.discount]]),n.$page.props.errors.discount?(a(),m("div",Vs,c(n.$page.props.errors.discount),1)):p("",!0),e[147]||(e[147]=t("label",{for:"total_payable",class:"mt-4 block text-gray-700 text-sm font-bold mb-2"},"Total Payable :",-1)),u(t("input",{type:"number",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"total_payable",placeholder:"Enter Total Payable","onUpdate:modelValue":e[64]||(e[64]=s=>o.form_2.total_payable=s)},null,512),[[b,o.form_2.total_payable]]),n.$page.props.errors.total_payable?(a(),m("div",Us,c(n.$page.props.errors.total_payable),1)):p("",!0)])])]),t("div",Ms,[t("span",Bs,[u(t("button",{onClick:e[65]||(e[65]=(...s)=>o.createInvoice&&o.createInvoice(...s)),type:"button",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition",disabled:o.disable_submit},"Save",8,Ts),[[k,!o.editMode]])]),t("span",js,[u(t("button",{onClick:e[66]||(e[66]=(...s)=>o.updateInvoice&&o.updateInvoice(...s)),type:"button",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition",disabled:o.disable_submit},"Update",8,Os),[[k,o.editMode]])]),t("span",As,[t("button",{onClick:e[67]||(e[67]=(...s)=>o.closeEdit&&o.closeEdit(...s)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Close")])])])])],512)):p("",!0)]}),_:1})}const Hs=ee(We,[["render",Rs],["__scopeId","data-v-3ee810ad"]]);export{Hs as default};
