import{T as p,r as c,B as x,o as n,d as i,a as t,k as g,x as b,t as f,e as a,f as d,n as y,h as v}from"./app-BIx_XIkX.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={name:"Upload",props:["data"],emits:["status"],setup(o,e){const r=p({name:null,file:null,incident_id:typeof o.data.incident_id<"u"?o.data.incident_id:null,customer_id:typeof o.data.customer_id<"u"?o.data.customer_id:null}),s=c("");c(0);function u(){r.name="",r.file=null}function m(){r.post("/uploadData",{onSuccess:l=>{u(),e.emit("status",!0)},onError:l=>{e.emit("status",!1),console.log(l)}})}return x(()=>{if(typeof r.file<"u"&&r.file!=null){console.log("hello");let l=r.file.type;l.includes("pdf")&&(s.value="file-pdf"),l.includes("spreadsheet")&&(s.value="file-excel"),l.includes("wordprocessing")&&(s.value="file-word"),l.includes("image")&&(s.value="file-image")}}),{form:r,submit:m,fa:s}}},k={class:"w-full mx-auto bg-white rounded-lg overflow-hidden"},h={class:"md:flex"},U={class:"w-full"},B={class:"p-3"},N={class:"mb-2 text-left"},V={key:0,class:"mt-2 text-sm text-red-500"},j={class:"mb-2 text-left"},A={class:"relative h-40 rounded-lg border-dashed border-2 border-gray-200 bg-white flex justify-center items-center hover:cursor-pointer"},C={class:"absolute"},D={key:0,class:"flex flex-col items-center"},S={key:1,class:"flex flex-col items-center"},T={class:"block text-blue-400 font-normal"},E={class:"flex justify-between items-center text-gray-400"},M={key:0,class:"mt-2 text-sm text-red-500"},z=["value"];function F(o,e,r,s,u,m){return n(),i("form",{onSubmit:e[3]||(e[3]=v((...l)=>s.submit&&s.submit(...l),["prevent"]))},[t("div",k,[t("div",h,[t("div",U,[t("div",B,[t("div",N,[e[4]||(e[4]=t("span",null,"Name",-1)),g(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>s.form.name=l),class:"h-12 px-3 w-full border-gray-200 border rounded focus:outline-none focus:border-gray-300"},null,512),[[b,s.form.name]]),o.$page.props.errors.name?(n(),i("p",V,f(o.$page.props.errors.name),1)):a("",!0)]),t("div",j,[e[9]||(e[9]=t("span",null,"Attachments",-1)),s.form.file?(n(),i("i",{key:0,class:"fas fa-times-circle text-red-600 mt-1 px-1",onClick:e[1]||(e[1]=l=>s.form.file=null)})):a("",!0),t("div",A,[t("div",C,[s.form.file?a("",!0):(n(),i("div",D,e[5]||(e[5]=[t("i",{class:"fa fa-cloud-upload fa-3x text-gray-200"},null,-1),d(),t("span",{class:"block text-gray-400 font-normal"},"Attach you files here",-1),d(),t("span",{class:"block text-gray-400 font-normal"},"or",-1),d(),t("span",{class:"block text-blue-400 font-normal"},"Browse files",-1)]))),s.form.file?(n(),i("div",S,[t("i",{class:y(["fas fa-"+s.fa,"text-blue-600 mt-1 px-1 fa-3x"])},null,2),t("span",T,f(s.form.file.name),1)])):a("",!0)]),t("input",{type:"file",onInput:e[2]||(e[2]=l=>s.form.file=l.target.files[0]),class:"h-full w-full opacity-0"},null,32)]),t("div",E,[o.$page.props.errors.file?(n(),i("p",M,f(o.$page.props.errors.file),1)):a("",!0),e[6]||(e[6]=t("span",null,"Accepted file type:.pdf, .jpg and .doc only",-1)),e[7]||(e[7]=d()),e[8]||(e[8]=t("span",{class:"flex items-center"},[t("i",{class:"fa fa-lock mr-1"}),d(" secure")],-1))])]),s.form.progress?(n(),i("progress",{key:0,value:s.form.progress.percentage,max:"100",class:"w-full"},f(s.form.progress.percentage)+"%",9,z)):a("",!0),e[10]||(e[10]=t("div",{class:"mt-3 text-center pb-3"},[t("button",{type:"submit",class:"w-full h-12 text-lg bg-blue-600 rounded text-white hover:bg-blue-700"},"Upload")],-1))])])])])],32)}const G=_(w,[["render",F]]);export{G as U};
