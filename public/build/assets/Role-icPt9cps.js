import{A as T}from"./AppLayout-BByj_v5h.js";import{P as O}from"./Pagination-CHg2DJW_.js";import{M as D}from"./vue3-multiselect.umd.min-3nLnfQle.js";import{J as N,r as k,q as j,s as V,c as A,w as P,N as y,o as u,a as o,k as s,x as M,K as B,d as c,F as L,g as z,f as i,h as F,t as U,e as g,v as n,b as S,z as E}from"./app-CwXgj7O2.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-Dsobse8H.js";const H={name:"Role",components:{AppLayout:T,Pagination:O,Multiselect:D},props:{roles:Object,col:Object,menus:Object,errors:Object},setup(p){const e=N({id:null,name:null,permission:null,delete_customer:null,read_customer:null,read_incident:null,write_incident:null,edit_invoice:null,bill_generation:null,bill_receipt:null,radius_read:null,radius_write:null,incident_report:null,bill_report:null,radius_report:null,incident_only:null,read_only_ip:null,add_ip:null,edit_ip:null,delete_ip:null,ip_report:null,enable_customer_export:null,activity_log:null,system_setting:null}),d=k("");let t=k(!1),x=k(!1);function f(){e.name=null,e.permission=null,e.read_customer=null,e.delete_customer=null,e.read_incident=null,e.write_incident=null,e.edit_invoice=null,e.delete_invoice=null,e.bill_generation=null,e.bill_receipt=null,e.radius_read=null,e.radius_write=null,e.incident_report=null,e.bill_report=null,e.radius_report=null,e.incident_only=null,e.read_only_ip=null,e.add_ip=null,e.edit_ip=null,e.delete_ip=null,e.ip_report=null,e.enable_customer_export=null,e.activity_log=null,e.system_setting=null}function _(){t.value?(e._method="PUT",y.post("/role/"+e.id,e,{onSuccess:l=>{a(),f(),Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{a(),console.log("error ..".errors)}})):(e._method="POST",y.post("/role",e,{preserveState:!0,onSuccess:l=>{a(),f(),Toast.fire({icon:"success",title:l.props.flash.message})},onError:l=>{a(),console.log("error ..".errors)}}))}function w(l){if(e.id=l.id,e.name=l.name,l.permission){let m=l.permission.split(",");e.permission=p.col.filter(b=>m.includes(b.name))}e.read_customer=!!l.read_customer,e.delete_customer=!!l.delete_customer,e.read_incident=!!l.read_incident,e.write_incident=!!l.write_incident,e.edit_invoice=!!l.edit_invoice,e.delete_invoice=!!l.delete_invoice,e.bill_generation=!!l.bill_generation,e.bill_receipt=!!l.bill_receipt,e.radius_read=!!l.radius_read,e.radius_write=!!l.radius_write,e.incident_report=!!l.incident_report,e.bill_report=!!l.bill_report,e.radius_report=!!l.radius_report,e.incident_only=!!l.incident_only,e.read_only_ip=!!l.read_only_ip,e.add_ip=!!l.add_ip,e.edit_ip=!!l.edit_ip,e.delete_ip=!!l.delete_ip,e.ip_report=!!l.ip_report,e.enable_customer_export=!!l.enable_customer_export,e.activity_log=!!l.activity_log,e.system_setting=!!l.system_setting,t.value=!0,r()}function v(l){confirm("Are you sure want to remove?")&&(l._method="DELETE",y.post("/role/"+l.id,l,{preserveState:!0,onSuccess:m=>{a(),f(),Toast.fire({icon:"success",title:m.props.flash.message})},onError:m=>{a(),console.log("error ..".errors)}}),a(),f())}function r(){x.value=!0}function h(l){let m="",b="",R=0;return l&&(m=l.split(","),m.forEach(C=>{R++,R%6===0?b+='<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">'+C+"</span><br />":b+='<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">'+C+"</span>"})),b}const a=()=>{x.value=!1,f(),t.value=!1},I=()=>{console.log("search value is"+d.value),y.get("/role/",{role:d.value},{preserveState:!0})};return j(()=>{p.col.map(function(l){return l.col_data="<label :class='capitalize'>"+l.name+"</label>"})}),{form:e,submit:_,getPerm:h,editMode:t,isOpen:x,openModal:r,closeModal:a,edit:w,deleteRow:v,searchTsp:I,search:d}}},q={class:"py-2"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},J={class:"flex justify-between space-x-2 items-end mb-2 px-1 md:px-0"},W={class:"relative flex flex-wrap z-0"},Q={key:0,class:"bg-white shadow-xl sm:rounded-lg"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-3 whitespace-nowrap"},$={class:"px-6 py-3 whitespace-nowrap"},ee={class:"px-6 py-3 whitespace-nowrap"},oe=["innerHTML"],te={class:"px-6 py-3 whitespace-nowrap text-right text-sm font-medium"},re=["onClick"],le=["onClick"],se={key:0,ref:"isOpen",class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},ie={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ne={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},de={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 min-h-screen"},ae={class:""},ue={class:"mb-4"},me={key:0,class:"text-red-500"},ce={class:"mb-4"},fe={class:"mt-4 border border-solid border-gray-300 p-3 rounded-md"},pe={class:"inline-flex ml-2 text-sm"},be={class:"inline-flex ml-2 text-sm"},ge={class:"inline-flex ml-2 text-sm"},xe={class:"inline-flex ml-2 text-sm"},ye={class:"inline-flex ml-2 text-sm"},_e={key:0,class:"mt-1 flex rounded-md shadow-sm"},we={class:"mb-4"},ve={class:"mt-4 border border-solid border-gray-300 p-3 rounded-md"},he={class:"max-w-full text-sm flex"},ke={class:"inline-flex ml-2"},Ve={class:"inline-flex ml-2"},Ue={class:"inline-flex ml-2"},Re={class:"mb-4"},Ce={class:"mt-4 border border-solid border-gray-300 p-3 rounded-md"},Pe={class:"max-w-full text-sm flex"},Me={class:"inline-flex ml-2"},Se={class:"inline-flex ml-2"},Ee={class:"inline-flex ml-2"},Ie={class:"inline-flex ml-2"},Te={class:"mb-4"},Oe={class:"mt-4 border border-solid border-gray-300 p-3 rounded-md"},De={class:"max-w-full text-sm flex"},Ne={class:"inline-flex ml-2"},je={class:"inline-flex ml-2"},Ae={class:"mb-4"},Be={class:"mt-4 border border-solid border-gray-300 p-3 rounded-md"},Le={class:"max-w-full text-sm flex"},ze={class:"inline-flex ml-2"},Fe={class:"inline-flex ml-2"},Ke={class:"inline-flex ml-2"},He={class:"inline-flex ml-2"},qe={class:"mb-4"},Ge={class:"mt-4 border border-solid border-gray-300 p-3 rounded-md"},Je={class:"max-w-full text-sm flex"},We={class:"inline-flex ml-2"},Qe={class:"inline-flex ml-2"},Xe={class:"inline-flex ml-2"},Ye={class:"inline-flex ml-2"},Ze={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},$e={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},eo={"wire:click.prevent":"submit",type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},oo={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},to={"wire:click.prevent":"submit",type:"submit",class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},ro={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},lo={key:1};function so(p,e,d,t,x,f){const _=V("multiselect"),w=V("pagination"),v=V("app-layout");return u(),A(v,null,{header:P(()=>e[29]||(e[29]=[o("h2",{class:"font-semibold text-xl text-white leading-tight"},"Role Setup",-1)])),default:P(()=>[o("div",q,[o("div",G,[o("div",J,[o("div",W,[e[30]||(e[30]=o("span",{class:"z-10 h-full leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3"},[o("i",{class:"fas fa-search"})],-1)),s(o("input",{type:"text",placeholder:"Search here...",class:"border-0 px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white rounded text-sm shadow outline-none focus:outline-none focus:ring w-full pl-10",id:"search","onUpdate:modelValue":e[0]||(e[0]=r=>t.search=r),onKeyup:e[1]||(e[1]=B((...r)=>t.searchTsp&&t.searchTsp(...r),["enter"]))},null,544),[[M,t.search]])]),o("button",{onClick:e[2]||(e[2]=(...r)=>t.openModal&&t.openModal(...r)),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},"Create")]),d.roles.data?(u(),c("div",Q,[o("table",X,[e[32]||(e[32]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," No. "),o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name"),o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Permission"),o("th",{scope:"col",class:"relative px-6 py-3"},[o("span",{class:"sr-only"},"Action")])])],-1)),o("tbody",Y,[(u(!0),c(L,null,z(d.roles.data,r=>(u(),c("tr",{key:r.id},[o("td",Z,U(r.id),1),o("td",$,U(r.name),1),o("td",ee,[o("div",{innerHTML:t.getPerm(r.permission)},null,8,oe)]),o("td",te,[o("a",{href:"#",onClick:h=>t.edit(r),class:"text-indigo-600 hover:text-indigo-900"},"Edit",8,re),e[31]||(e[31]=i(" | ")),o("a",{href:"#",onClick:h=>t.deleteRow(r),class:"text-red-600 hover:text-red-900"},"Delete",8,le)])]))),128))])]),t.isOpen?(u(),c("div",se,[o("div",ie,[e[63]||(e[63]=o("div",{class:"fixed inset-0 transition-opacity"},[o("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e[64]||(e[64]=i(" â€‹ ")),o("div",ne,[o("form",{onSubmit:e[28]||(e[28]=F((...r)=>t.submit&&t.submit(...r),["prevent"]))},[o("div",de,[o("div",ae,[o("div",ue,[e[33]||(e[33]=o("label",{for:"name",class:"block text-gray-700 text-sm font-bold mb-2"},"Status :",-1)),s(o("input",{type:"text",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",id:"name",placeholder:"Enter Role Name","onUpdate:modelValue":e[3]||(e[3]=r=>t.form.name=r)},null,512),[[M,t.form.name]]),p.$page.props.errors.name?(u(),c("div",me,U(p.$page.props.errors.name[0]),1)):g("",!0)]),o("div",ce,[o("fieldset",fe,[e[39]||(e[39]=o("legend",{class:"text-gray-700 text-sm font-bold"},"Customer Data ",-1)),o("label",pe,[s(o("input",{class:"text-gray-500 text-sm w-6 h-6 mr-2 focus:ring-gray-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=r=>t.form.read_customer=r)},null,512),[[n,t.form.read_customer]]),e[34]||(e[34]=i(" Read Only to Customer Data "))]),o("label",be,[s(o("input",{class:"text-gray-500 text-sm w-6 h-6 mr-2 focus:ring-gray-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=r=>t.form.delete_customer=r)},null,512),[[n,t.form.delete_customer]]),e[35]||(e[35]=i(" Enable Delete Customer "))]),o("label",ge,[s(o("input",{class:"text-gray-500 text-sm w-6 h-6 mr-2 focus:ring-gray-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=r=>t.form.enable_customer_export=r)},null,512),[[n,t.form.enable_customer_export]]),e[36]||(e[36]=i(" Enable Export Data "))]),o("label",xe,[s(o("input",{class:"text-gray-500 text-sm w-6 h-6 mr-2 focus:ring-gray-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=r=>t.form.activity_log=r)},null,512),[[n,t.form.activity_log]]),e[37]||(e[37]=i(" Enable Activity Log Access "))]),o("label",ye,[s(o("input",{class:"text-gray-500 text-sm w-6 h-6 mr-2 focus:ring-gray-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=r=>t.form.system_setting=r)},null,512),[[n,t.form.system_setting]]),e[38]||(e[38]=i(" System Setting "))]),e[40]||(e[40]=o("label",{for:"permission",class:"block text-gray-700 text-sm font-bold mb-2"},"Permission :",-1)),d.col.length!==0?(u(),c("div",_e,[S(_,{"deselect-label":"Selected already",options:d.col,"track-by":"id",label:"name",modelValue:t.form.permission,"onUpdate:modelValue":e[9]||(e[9]=r=>t.form.permission=r),"allow-empty":!0,multiple:!0,taggable:!0},null,8,["options","modelValue"])])):g("",!0)])]),o("div",we,[o("fieldset",ve,[e[44]||(e[44]=o("legend",{class:"text-gray-700 text-sm font-bold"},"Incident Control ",-1)),o("div",he,[o("label",ke,[s(o("input",{class:"text-indigo-500 w-6 h-6 mr-2 focus:ring-indigo-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=r=>t.form.read_incident=r)},null,512),[[n,t.form.read_incident]]),e[41]||(e[41]=i(" Incident Read Permission "))]),o("label",Ve,[s(o("input",{class:"text-indigo-500 w-6 h-6 mr-2 focus:ring-indigo-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=r=>t.form.write_incident=r)},null,512),[[n,t.form.write_incident]]),e[42]||(e[42]=i(" Incident Write Permission "))]),o("label",Ue,[s(o("input",{class:"text-indigo-500 w-6 h-6 mr-2 focus:ring-indigo-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=r=>t.form.incident_only=r)},null,512),[[n,t.form.incident_only]]),e[43]||(e[43]=i(" Incident Only Access Permission "))])])])]),o("div",Re,[o("fieldset",Ce,[e[49]||(e[49]=o("legend",{class:"text-gray-700 text-sm font-bold"},"Billing Control ",-1)),o("div",Pe,[o("label",Me,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[13]||(e[13]=r=>t.form.bill_generation=r)},null,512),[[n,t.form.bill_generation]]),e[45]||(e[45]=i(" Bill Generate "))]),o("label",Se,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=r=>t.form.bill_receipt=r)},null,512),[[n,t.form.bill_receipt]]),e[46]||(e[46]=i(" Bill Receipt "))]),o("label",Ee,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=r=>t.form.edit_invoice=r)},null,512),[[n,t.form.edit_invoice]]),e[47]||(e[47]=i(" Edit Invoice Permission "))]),o("label",Ie,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[16]||(e[16]=r=>t.form.delete_invoice=r)},null,512),[[n,t.form.delete_invoice]]),e[48]||(e[48]=i(" Delete Invoice Permission "))])])])]),o("div",Te,[o("fieldset",Oe,[e[52]||(e[52]=o("legend",{class:"text-gray-700 text-sm font-bold"},"Radius Control ",-1)),o("div",De,[o("label",Ne,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[17]||(e[17]=r=>t.form.radius_read=r)},null,512),[[n,t.form.radius_read]]),e[50]||(e[50]=i(" Read Radius Information "))]),o("label",je,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=r=>t.form.radius_write=r)},null,512),[[n,t.form.radius_write]]),e[51]||(e[51]=i(" Update Radius Information "))])])])]),o("div",Ae,[o("fieldset",Be,[e[57]||(e[57]=o("legend",{class:"text-gray-700 text-sm font-bold"},"Public IP Control ",-1)),o("div",Le,[o("label",ze,[s(o("input",{class:"text-blue-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[19]||(e[19]=r=>t.form.read_only_ip=r)},null,512),[[n,t.form.read_only_ip]]),e[53]||(e[53]=i(" Read-Only IP "))]),o("label",Fe,[s(o("input",{class:"text-blue-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[20]||(e[20]=r=>t.form.add_ip=r)},null,512),[[n,t.form.add_ip]]),e[54]||(e[54]=i(" Add IP "))]),o("label",Ke,[s(o("input",{class:"text-blue-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[21]||(e[21]=r=>t.form.edit_ip=r)},null,512),[[n,t.form.edit_ip]]),e[55]||(e[55]=i(" Edit IP "))]),o("label",He,[s(o("input",{class:"text-blue-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[22]||(e[22]=r=>t.form.delete_ip=r)},null,512),[[n,t.form.delete_ip]]),e[56]||(e[56]=i(" Delete IP "))])])])]),o("div",qe,[o("fieldset",Ge,[e[62]||(e[62]=o("legend",{class:"text-gray-700 text-sm font-bold"},"Report Control ",-1)),o("div",Je,[o("label",We,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[23]||(e[23]=r=>t.form.incident_report=r)},null,512),[[n,t.form.incident_report]]),e[58]||(e[58]=i(" View Incident Report "))]),o("label",Qe,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[24]||(e[24]=r=>t.form.bill_report=r)},null,512),[[n,t.form.bill_report]]),e[59]||(e[59]=i(" View Bill Receipt Report "))]),o("label",Xe,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[25]||(e[25]=r=>t.form.radius_report=r)},null,512),[[n,t.form.radius_report]]),e[60]||(e[60]=i(" View Radius User Report "))]),o("label",Ye,[s(o("input",{class:"text-red-500 w-6 h-6 mr-2 focus:ring-red-400 focus:ring-opacity-25 border border-gray-300 rounded",type:"checkbox","onUpdate:modelValue":e[26]||(e[26]=r=>t.form.ip_report=r)},null,512),[[n,t.form.ip_report]]),e[61]||(e[61]=i(" View IP Usage Report "))])])])])])]),o("div",Ze,[o("span",$e,[s(o("button",eo,"Save",512),[[E,!t.editMode]])]),o("span",oo,[s(o("button",to,"Update",512),[[E,t.editMode]])]),o("span",ro,[o("button",{onClick:e[27]||(e[27]=(...r)=>t.closeModal&&t.closeModal(...r)),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Cancel")])])],32)])])],512)):g("",!0)])):g("",!0),d.roles.links?(u(),c("span",lo,[S(w,{class:"mt-6",links:d.roles.links},null,8,["links"])])):g("",!0)])])]),_:1})}const fo=K(H,[["render",so]]);export{fo as default};
