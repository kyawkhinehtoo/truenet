import{A as v}from"./AppLayout-BByj_v5h.js";import{r as u,T as w,s as x,c as k,w as b,o as i,a as e,k as D,x as P,b as _,f as m,d as l,F as E,g as V,e as c,t as a}from"./app-CwXgj7O2.js";import{V as C}from"./main-CDr1BHpQ.js";import{M as I}from"./vue3-multiselect.umd.min-3nLnfQle.js";import{P as M}from"./Pagination-CHg2DJW_.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-Dsobse8H.js";const S={name:"PublicIpReport",components:{AppLayout:v,Pagination:M,VueDatePicker:C,Multiselect:I},props:{public_ips:Object},setup(h){u(null),u(!1);const t=u(!1),n=u({date:"YYYY-MM-DD",month:"MMM"}),o=w({general:null,end_date:null}),f=()=>{o.general=null,o.end_date=""};function g(){o.post("/publicIpReport",{onSuccess:r=>{t.value=!1},onError:r=>{t.value=!1,console.log(r)},onStart:()=>{t.value=!0}},{preserveState:!0})}return{loading:t,formatter:n,form:o,submit:g,doExcel:()=>{axios.post("/exportPublicIpReportExcel",o,{responseType:"blob"}).then(r=>{var p=document.createElement("a");document.body.appendChild(p),p.style="display: none";var s=new Blob([r.data],{type:r.headers["content-type"]});const d=document.createElement("a");d.href=window.URL.createObjectURL(s),d.download=`public_ip_report_${new Date().getTime()}.xlsx`,d.click()})},clearSearch:f}}},T={class:"py-2"},N={class:"max-w-full mx-auto sm:px-6 lg:px-8 mt-4"},j={class:"bg-white shadow sm:rounded-t-lg flex justify-between space-x-2 items-end py-2 px-2 md:px-2"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full"},B={class:"py-2 col-span-1 sm:col-span-1"},L={class:"mt-1 flex rounded-md shadow-sm"},A={class:"py-2 col-span-1 sm:col-span-1"},Y={class:"mt-1 flex rounded-md shadow-sm"},F={class:"mb-2 py-2 px-2 md:px-2 bg-white shadow rounded-b-lg flex justify-between"},z={class:"flex"},O={class:"flex"},G={key:0,class:"max-w-full mx-auto sm:px-6 lg:px-8 mt-4"},q={key:0,class:"bg-white overflow-visible shadow-xl sm:rounded-lg"},H={class:"min-w-full divide-y divide-gray-200 table-auto"},J={class:"bg-white divide-y divide-gray-200 text-sm max-h-64"},K={class:"px-4 py-3 text-xs font-medium"},Q={class:"px-4 py-3 text-xs font-medium"},W={class:"px-4 py-3 text-xs font-medium text-indigo-600"},X=["href"],Z={class:"px-4 py-3 text-xs font-medium"},$={class:"px-4 py-3 text-xs font-medium"},ee={key:0},te={key:1},se={class:"px-4 py-3 text-xs font-medium text-right"},oe={class:"px-4 py-3 text-xs font-medium whitespace-nowrap"},ae={class:"px-4 py-3 text-xs font-medium whitespace-nowrap"},ne={class:"px-4 py-3 text-xs font-medium"},ie={key:1,class:"w-full block mt-4"},le={class:"text-xs text-gray-600"},re={key:2},de={key:3,"wire:loading":"",class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"};function ce(h,t,n,o,f,g){const y=x("VueDatePicker"),r=x("pagination"),p=x("app-layout");return i(),k(p,null,{header:b(()=>t[5]||(t[5]=[e("h2",{class:"font-semibold text-xl text-white leading-tight"},"Public IP Usage Report",-1)])),default:b(()=>[e("div",T,[e("div",N,[e("div",j,[e("div",U,[e("div",B,[t[7]||(t[7]=e("label",{for:"sh_general",class:"block text-sm font-medium text-gray-700"},"General ",-1)),e("div",L,[t[6]||(t[6]=e("span",{class:"z-10 leading-snug font-normal text-center text-gray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-2"},[e("i",{class:"fas fa-user"})],-1)),D(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>o.form.general=s),name:"sh_general",id:"sh_general",class:"pl-10 py-2 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"IPv4 /Customer ID/Customer Name etc.",tabindex:"1"},null,512),[[P,o.form.general]])])]),e("div",A,[t[8]||(t[8]=e("label",{for:"sh_period",class:"block text-sm font-medium text-gray-700"},"End Date (Range) ",-1)),e("div",Y,[_(y,{modelValue:o.form.end_date,"onUpdate:modelValue":t[1]||(t[1]=s=>o.form.end_date=s),range:{partialRange:!0},placeholder:"Please End Date","enable-time-picker":!1,"model-type":"yyyy-MM-dd",id:"end_date",class:"text-gray-400 text-sm focus:ring focus:ring-indigo-500 focus:border-indigo-500 focus:ring-opacity-10 focus:outline-none"},null,8,["modelValue"])])])])]),e("div",F,[e("div",z,[e("a",{onClick:t[2]||(t[2]=(...s)=>o.submit&&o.submit(...s)),class:"cursor-pointer inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},t[9]||(t[9]=[m("Search "),e("i",{class:"ml-1 fa fa-search text-white",tabindex:"10"},null,-1)])),e("a",{onClick:t[3]||(t[3]=(...s)=>o.clearSearch&&o.clearSearch(...s)),class:"ml-2 cursor-pointer inline-flex items-center px-4 py-2 bg-gray-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-200 disabled:opacity-25 transition"},t[10]||(t[10]=[m("Reset "),e("i",{class:"ml-1 fa fa-undo-alt text-white",tabindex:"11"},null,-1)]))]),e("div",O,[e("a",{onClick:t[4]||(t[4]=(...s)=>o.doExcel&&o.doExcel(...s)),class:"cursor-pointer inline-flex items-center px-4 py-2 bg-green-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:ring focus:ring-green-300 disabled:opacity-25 transition"},t[11]||(t[11]=[m("Export Excel "),e("i",{class:"ml-1 fa fa-download text-white",tabindex:"11"},null,-1)]))])])]),n.public_ips?(i(),l("div",G,[n.public_ips.data?(i(),l("div",q,[e("table",H,[t[12]||(t[12]=e("thead",{class:"bg-gray-50"},[e("tr",{class:"text-left"},[e("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"No."),e("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Ticket ID"),e("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Customer ID"),e("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Package"),e("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Description"),e("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase text-right"},"Annual Fees "),e("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Start Date"),e("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"End Date"),e("th",{scope:"col",class:"px-4 py-3 text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),e("tbody",J,[(i(!0),l(E,null,V(n.public_ips.data,(s,d)=>(i(),l("tr",{key:s.id},[e("td",K,a(d+=n.public_ips.from),1),e("td",Q,a(s.ip_address),1),e("td",W,[e("a",{href:"/customer/"+s.customer_id+"/edit"},a(s.ftth_id),9,X)]),e("td",Z,a(s.package_name),1),e("td",$,[s.description.length>30?(i(),l("p",ee,a(s.description.substring(0,30)+"..."),1)):(i(),l("p",te,a(s.description),1))]),e("td",se,a(s.annual_charge)+" "+a(s.currency.toUpperCase()),1),e("td",oe,a(s.start_date),1),e("td",ae,a(s.end_date),1),e("td",ne,a(s.status_name),1)]))),128))])])])):c("",!0),n.public_ips.total?(i(),l("span",ie,[e("label",le,a(n.public_ips.data.length)+" IPv4 Address in Current Page. Total Number of IP : "+a(n.public_ips.total),1)])):c("",!0),n.public_ips.links?(i(),l("span",re,[_(r,{class:"mt-6",links:n.public_ips.links},null,8,["links"])])):c("",!0),o.loading?(i(),l("div",de,t[13]||(t[13]=[e("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1),e("h2",{class:"text-center text-white text-xl font-semibold"},"Loading...",-1),e("p",{class:"w-1/3 text-center text-white"},"This may take a few seconds, please don't close this page.",-1)]))):c("",!0)])):c("",!0)])]),_:1})}const be=R(S,[["render",ce]]);export{be as default};
